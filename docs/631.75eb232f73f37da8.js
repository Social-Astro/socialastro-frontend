"use strict";(self.webpackChunksocialastro_frontend=self.webpackChunksocialastro_frontend||[]).push([[631],{631:(y,b,a)=>{a.r(b),a.d(b,{LoginPageComponent:()=>O});var e=a(1360),E=a(6861),h=a(33),v=a(3767),u=a(4341),_=a(6688);const D=()=>({valid:"is-valid",invalid:"is-invalid"}),f=()=>["/auth/register"];function g(c,o){1&c&&(e.j41(0,"div",7),e.EFF(1,"El usuario es requerido"),e.k0s())}function p(c,o){1&c&&(e.j41(0,"div",7),e.EFF(1,"La contrase\xf1a es requerida"),e.k0s())}function C(c,o){if(1&c&&(e.j41(0,"div",16),e.nrm(1,"img",19),e.j41(2,"div",20),e.EFF(3),e.k0s()()),2&c){const n=e.XpG();e.R7$(3),e.JRh(n.loginError())}}let O=(()=>{class c{#e=(0,e.WQX)(v.u);#n=(0,e.WQX)(E.Ix);loginForm=new u.gE({username:new u.MJ("",{nonNullable:!0,validators:[u.k0.required]}),password:new u.MJ("",{nonNullable:!0,validators:[u.k0.required]})});loginError=(0,e.vPA)(null);login(){this.loginError.set(null),this.loginForm.valid?this.#e.login({username:this.loginForm.value.username,password:this.loginForm.value.password}).subscribe({next:()=>{this.saved=!0,this.#n.navigate(["/home"])},error:t=>{console.error("Login error:",t),this.loginError.set(401===t.status?"\xbfEst\xe1s seguro de que te has montado en tu nave...?":"Woops, esto es embarazoso. Es culpa nuestra..")}}):(this.loginError.set("Escribe bien... es humano no extraterrestre."),console.error("Formulario inv\xe1lido"))}saved=!1;resetForm(){this.loginForm.reset(),this.saved=!1}canDeactivate(){return this.saved||this.loginForm.pristine||confirm("\xbfDe verdad quieres salir? Vas a perder los datos.")}static \u0275fac=function(t){return new(t||c)};static \u0275cmp=e.VBU({type:c,selectors:[["login-page"]],decls:28,vars:11,consts:[[1,"text-center","mb-3","register-card"],[1,"card-body"],[1,"card-title"],["action","#","id","form-login",1,"mt-4",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username",1,"form-label"],["type","username","id","username","formControlName","username","name","username","placeholder","Usuario",1,"form-control",3,"validationClasses"],[1,"invalid-feedback"],["for","password"],["type","password","name","password","formControlName","password","id","password","placeholder","Contrase\xf1a",1,"form-control",3,"validationClasses"],["id","errorInfo",1,"text-danger"],["type","submit",1,"btn","btn-primary","my-1",3,"disabled"],["src","assets/normal/normal_rocket_login.png","alt","Login"],[1,"mx-4"],[1,"btn","btn-secondary",3,"routerLink"],["src","assets/normal/normal_spaceship_register.png","alt","Register",1,"img-wallpaper"],[1,"login-error-card","animate-error-card"],[1,"icon-large-container",2,"position","fixed","bottom","40px","right","0%"],["src","assets/normal/normal_rocket_login.png","alt","Login Icon",2,"width","25rem","opacity","0.8"],["src","assets/normal/normal_meteor_delete.png","alt","Error",1,"error-icon"],[1,"error-message"]],template:function(t,r){if(1&t){const i=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"h5",2),e.EFF(3,"Ad\xe9ntrate en la galaxia"),e.k0s(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return e.eBV(i),e.Njj(r.login())}),e.j41(5,"div",4)(6,"label",5),e.EFF(7,"Usuario"),e.k0s(),e.nrm(8,"input",6),e.SS7(9),e.DNE(10,g,2,0,"div",7),e.k0s(),e.j41(11,"div",4)(12,"label",8),e.EFF(13,"Password:"),e.k0s(),e.nrm(14,"input",9),e.SS7(15),e.DNE(16,p,2,0,"div",7),e.k0s(),e.nrm(17,"p",10),e.j41(18,"button",11),e.nrm(19,"img",12),e.EFF(20," Despegar "),e.k0s(),e.nrm(21,"span",13),e.j41(22,"a",14),e.nrm(23,"img",15),e.EFF(24," Crear Nave "),e.k0s()()()(),e.DNE(25,C,4,1,"div",16),e.j41(26,"div",17),e.nrm(27,"img",18),e.k0s()}if(2&t){let i,s;e.R7$(4),e.Y8G("formGroup",r.loginForm),e.R7$(4),e.Y8G("validationClasses",e.lJ4(8,D));const d=null==(i=r.loginForm.get("username"))?null:i.errors;e.R7$(2),e.vxM(null!=d&&d.required?10:-1),e.R7$(4),e.Y8G("validationClasses",e.lJ4(9,D));const l=null==(s=r.loginForm.get("password"))?null:s.errors;e.R7$(2),e.vxM(null!=l&&l.required?16:-1),e.R7$(2),e.Y8G("disabled",r.loginForm.invalid),e.R7$(4),e.Y8G("routerLink",e.lJ4(10,f)),e.R7$(3),e.vxM(r.loginError()?25:-1)}},dependencies:[h.Wk,u.YN,u.qT,u.me,u.BC,u.cb,u.X1,u.j4,u.JD,_.f],styles:[".card-body[_ngcontent-%COMP%]{z-index:1;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:.9;border-radius:1.5rem;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);font-size:.9rem;color:#fff;padding:2.5rem}.card-body[_ngcontent-%COMP%]   btn[_ngcontent-%COMP%]{align-items:center}.custom-popup-error[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%);background:linear-gradient(90deg,#ff4e50,#f9d423);color:#fff;padding:1.2rem 2.2rem;border-radius:1.2rem;box-shadow:0 4px 24px #00000040;z-index:9999;font-size:1.1rem;font-weight:600;display:flex;flex-direction:column;align-items:center;animation:_ngcontent-%COMP%_fadeInDown .5s}.login-error-card[_ngcontent-%COMP%]{position:fixed;top:200px;left:50%;transform:translate(-50%);background:#2d0036;color:#fff;border-radius:1.2rem;box-shadow:0 4px 24px #00000040;padding:1.5rem 2.5rem;display:flex;flex-direction:column;align-items:center;z-index:10000;border:2px solid #ff4e50;font-size:1.1rem;font-weight:600}.error-icon[_ngcontent-%COMP%]{width:40px;margin-bottom:10px}.error-message[_ngcontent-%COMP%]{text-align:center}.animate-error-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInDown 2s}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-50px) translate(-50%)}to{opacity:1;transform:translateY(0) translate(-50%)}}"]})}return c})()},6688:(y,b,a)=>{a.d(b,{f:()=>u});var e=a(1360),E=a(9079),h=a(4341),v=a(983);let u=(()=>{class _{#e=(0,e.WQX)(h.vS,{optional:!0});#n=(0,e.WQX)(h.vO,{optional:!0});#t=(0,e.WQX)(e.zZn);validationClasses=(0,e.hFB)();valueChanges;touched=(0,e.vPA)(!1);ngOnInit(){this.valueChanges=(0,E.ot)(this.#e?.valueChanges??this.#n?.valueChanges??v.w,{injector:this.#t})}inputClass=(0,e.EWP)(()=>{const f=this.touched(),g=this.validationClasses();return this.valueChanges(),(0,e.O8t)(()=>f?this.#e?.invalid||this.#n?.invalid?g?.invalid:g?.valid:"")});static \u0275fac=function(g){return new(g||_)};static \u0275dir=e.FsC({type:_,selectors:[["","validationClasses","","ngModel",""],["","validationClasses","","formControl",""],["","validationClasses","","formControlName",""]],hostVars:2,hostBindings:function(g,p){1&g&&e.bIt("blur",function(){return p.touched.set(!0)}),2&g&&e.HbH(p.inputClass())},inputs:{validationClasses:[1,"validationClasses"]}})}return _})()},9079:(y,b,a)=>{a.d(b,{ZX:()=>c,ot:()=>p,pQ:()=>v});var e=a(1360),E=a(1985),h=a(6977);function v(o){o||((0,e.Af3)(v),o=(0,e.WQX)(e.abz));const n=new E.c(t=>o.onDestroy(t.next.bind(t)));return t=>t.pipe((0,h.Q)(n))}function p(o,n){const t=!n?.manualCleanup;t&&!n?.injector&&(0,e.Af3)(p);const r=t?n?.injector?.get(e.abz)??(0,e.WQX)(e.abz):null,i=function C(o=Object.is){return(n,t)=>1===n.kind&&1===t.kind&&o(n.value,t.value)}(n?.equal);let s;s=(0,e.vPA)(n?.requireSync?{kind:0}:{kind:1,value:n?.initialValue},{equal:i});const d=o.subscribe({next:l=>s.set({kind:1,value:l}),error:l=>{if(n?.rejectErrors)throw l;s.set({kind:2,error:l})}});if(n?.requireSync&&0===s().kind)throw new e.wOt(601,!1);return r?.onDestroy(d.unsubscribe.bind(d)),(0,e.EWP)(()=>{const l=s();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new e.wOt(601,!1)}},{equal:n?.equal})}function c(o){return o?.injector||(0,e.Af3)(c),(0,e.ZcF)({...o,loader:void 0,stream:n=>{let t;const r=()=>t.unsubscribe();n.abortSignal.addEventListener("abort",r);const i=(0,e.vPA)({value:void 0});let s;const d=new Promise(m=>s=m);function l(m){i.set(m),s?.(i),s=void 0}return t=o.loader(n).subscribe({next:m=>l({value:m}),error:m=>l({error:m}),complete:()=>{s&&l({error:new Error("Resource completed before producing a value")}),n.abortSignal.removeEventListener("abort",r)}}),d}})}}}]);