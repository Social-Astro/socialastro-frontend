import{a as J}from"./chunk-IJORAC4J.js";import{a as te,b as ne}from"./chunk-4STJHMTN.js";import{a as pe}from"./chunk-DSC2DUL4.js";import"./chunk-JU6AQGDN.js";import"./chunk-QVJEC5VS.js";import"./chunk-GFFBMY3N.js";import"./chunk-7TJXTN3F.js";import{a as ie}from"./chunk-AW7RF5R2.js";import{b as re,c as v,e as oe,f as ae,g as k,i as M,k as se,m as le,o as de,u as me,v as ce}from"./chunk-EDEUMYWG.js";import"./chunk-3TMGCKTS.js";import{c as R,f as ee,j as H,o as j}from"./chunk-FWI7O2YG.js";import{p as Z}from"./chunk-GT6PACLV.js";import{Aa as s,Db as K,Eb as Q,Fb as X,Ib as I,Ka as w,M as N,Pa as f,S as b,Sb as Y,Wa as m,Xb as B,Ya as C,Z as g,Zb as z,_ as h,_b as T,ab as p,cb as y,db as F,eb as r,fb as i,gb as c,ka as V,kb as P,ma as x,nb as u,ob as d,xa as O,xb as l,yb as E,zb as S}from"./chunk-W4ZOI5UP.js";import"./chunk-7CGTOI24.js";var A=class n{#e=b(R);#t=x(void 0);userSelected=ee(()=>`users/${this.#t()||"me"}`,{parse:te});setCurrentUser(t){this.#t.set(t)}saveUserProfile(t){return this.#e.put("users/me",t)}saveUserPassword(t){return this.#e.put("users/me/password",t)}saveUserEmail(t){return this.#e.put("users/me/email",t)}saveUserAvatar(t){return this.#e.put("users/me/avatar",t)}saveUserHeader(t){return this.#e.put("users/me/header",t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function ue(n,t){if(n&1){let e=P();r(0,"form",3)(1,"div",5)(2,"label"),l(3,"Nombre"),i(),c(4,"input",6),i(),r(5,"div",5)(6,"label"),l(7,"Bio"),i(),c(8,"input",7),i(),r(9,"button",8),u("click",function(){g(e);let a=d();return h(a.changeUser())}),l(10,"Guardar"),i()()}if(n&2){let e=d();m("formGroup",e.changeUserForm),s(9),m("disabled",e.changeUserForm.invalid)}}function ge(n,t){if(n&1){let e=P();r(0,"form",4)(1,"div",5)(2,"label"),l(3,"Email"),i(),c(4,"input",9),i(),r(5,"div",5)(6,"label"),l(7,"Repite email"),i(),c(8,"input",10),i(),r(9,"button",8),u("click",function(){g(e);let a=d();return h(a.changeEmail())}),l(10,"Cambiar email"),i()()}if(n&2){let e=d();m("formGroup",e.changeEmailForm),s(9),m("disabled",e.changeEmailForm.invalid)}}function he(n,t){if(n&1){let e=P();r(0,"form",4)(1,"div",5)(2,"label"),l(3,"Nueva contrase\xF1a"),i(),c(4,"input",11),i(),r(5,"div",5)(6,"label"),l(7,"Repite contrase\xF1a"),i(),c(8,"input",12),i(),r(9,"button",8),u("click",function(){g(e);let a=d();return h(a.changePassword())}),l(10,"Cambiar contrase\xF1a"),i()()}if(n&2){let e=d();m("formGroup",e.changePasswordForm),s(9),m("disabled",e.changePasswordForm.invalid)}}function ve(n,t){if(n&1&&(r(0,"div",15),c(1,"img",17),i()),n&2){let e=d(2);s(),m("src",e.avatarBase64Arr()[0],O)}}function _e(n,t){if(n&1){let e=P();r(0,"form",13),u("ngSubmit",function(){g(e);let a=d();return h(a.changeAvatar())}),r(1,"div",5)(2,"label"),l(3,"Nuevo avatar"),i(),r(4,"input",14),u("change",function(a){g(e);let _=d();return h(_.onAvatarFileChange(a))}),i(),f(5,ve,2,1,"div",15),i(),r(6,"button",16),l(7,"Guardar avatar"),i()()}if(n&2){let e=d();m("formGroup",e.changeAvatarForm),s(5),p(e.avatarBase64Arr().length>0?5:-1),s(),m("disabled",e.changeAvatarForm.invalid||!e.avatarBase64Arr().length)}}function be(n,t){if(n&1&&(r(0,"div",15),c(1,"img",18),i()),n&2){let e=d(2);s(),m("src",e.headerBase64Arr()[0],O)}}function xe(n,t){if(n&1){let e=P();r(0,"form",13),u("ngSubmit",function(){g(e);let a=d();return h(a.changeHeader())}),r(1,"div",5)(2,"label"),l(3,"Nueva portada"),i(),r(4,"input",14),u("change",function(a){g(e);let _=d();return h(_.onHeaderFileChange(a))}),i(),f(5,be,2,1,"div",15),i(),r(6,"button",16),l(7,"Guardar portada"),i()()}if(n&2){let e=d();m("formGroup",e.changeHeaderForm),s(5),p(e.headerBase64Arr().length>0?5:-1),s(),m("disabled",e.changeHeaderForm.invalid||!e.headerBase64Arr().length)}}var D=class n{profileService=b(A);userResource=this.profileService.userSelected;user=this.userResource.value;id=V.required({transform:B});avatarBase64Arr=x([]);headerBase64Arr=x([]);changeUserForm=new k({name:new M("",{nonNullable:!0,validators:[v.required]}),bio:new M("",{nonNullable:!0,validators:[v.required]})});changeEmailForm=new k({email:new M("",{nonNullable:!0,validators:[v.required,v.email]}),email2:new M("",{nonNullable:!0,validators:[v.required,v.email,J("email","email2")]})});changePasswordForm=new k({password:new M("",{nonNullable:!0,validators:[v.required,v.minLength(4)]}),password2:new M("",{nonNullable:!0,validators:[v.required,v.minLength(4),J("password","password2")]})});changeAvatarForm=new k({avatar:new M(null,{nonNullable:!0,validators:[v.required]})});changeHeaderForm=new k({heading:new M(null,{nonNullable:!0,validators:[v.required]})});showUserForm=!1;showEmailForm=!1;showPasswordForm=!1;showAvatarForm=!1;showHeaderForm=!1;cdr=b(Y);changeUser(){if(!this.changeUserForm.valid)return;let t={name:this.changeUserForm.value.name,bio:this.changeUserForm.value.bio,updatedAt:new Date};this.profileService.saveUserProfile(t).subscribe({next:()=>{this.userResource.reload(),this.showUserForm=!1,this.cdr.detectChanges()},error:e=>console.error("User error:",e)})}changeEmail(){if(!this.changeEmailForm.valid)return;let t={email:this.changeEmailForm.value.email};this.profileService.saveUserEmail(t).subscribe({next:()=>{this.userResource.reload(),this.showEmailForm=!1,this.cdr.detectChanges()},error:e=>console.error("Email error:",e)})}changePassword(){if(!this.changePasswordForm.valid)return;let t={password:this.changePasswordForm.value.password};this.profileService.saveUserPassword(t).subscribe({next:()=>{console.log("Password changed successfully"),this.showPasswordForm=!1,this.cdr.detectChanges()},error:e=>console.error("Password error:",e)})}async onAvatarFileChange(t){let e=t.target;if(!e.files||e.files.length===0)return;let o=[];for(let a of Array.from(e.files)){this.changeAvatarForm.get("avatar").setValue(a);let _=await this.fileToBase64(a);console.log("Base64:",_?.slice(0,30)),o.push(_)}this.avatarBase64Arr.set(o)}async onHeaderFileChange(t){let e=t.target;if(!e.files||e.files.length===0)return;let o=[];for(let a of Array.from(e.files)){this.changeHeaderForm.get("heading").setValue(a);let _=await this.fileToBase64(a);console.log("Header Base64:",_?.slice(0,30)),o.push(_)}this.headerBase64Arr.set(o)}fileToBase64(t){return new Promise((e,o)=>{let a=new FileReader;a.onload=()=>e(a.result),a.onerror=o,a.readAsDataURL(t)})}changeAvatar(){if(!this.changeAvatarForm.valid||!this.avatarBase64Arr().length)return;let t={avatar:this.avatarBase64Arr()[0]};this.profileService.saveUserAvatar(t).subscribe({next:()=>{this.userResource.reload(),this.avatarBase64Arr.set([]),this.changeAvatarForm.reset(),this.showAvatarForm=!1,this.cdr.detectChanges()},error:e=>console.error("Avatar error:",e)})}changeHeader(){if(!this.changeHeaderForm.valid||!this.headerBase64Arr().length)return;let t={heading:this.headerBase64Arr()[0]};this.profileService.saveUserHeader(t).subscribe({next:()=>{this.userResource.reload(),this.headerBase64Arr.set([]),this.changeHeaderForm.reset(),this.showHeaderForm=!1,this.cdr.detectChanges()},error:e=>console.error("Header error:",e)})}preloadEditFields(){let t=this.userResource.value();t&&(this.changeUserForm.patchValue({name:t.name||"",bio:t.bio||""}),this.changeEmailForm.patchValue({email:t.email||"",email2:t.email||""}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["profile-edit"]],inputs:{id:[1,"id"]},decls:32,vars:15,consts:[[1,"profile-edit-panel"],[1,"profile-edit-accordion"],[1,"accordion-toggle",3,"click"],[1,"edit-form",3,"formGroup"],[1,"edit-form","mt-3",3,"formGroup"],[1,"mb-3"],["type","text","formControlName","name",1,"form-control","input"],["type","text","formControlName","bio",1,"form-control","input"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["type","email","formControlName","email",1,"form-control","input"],["type","email","formControlName","email2",1,"form-control","input"],["type","password","formControlName","password",1,"form-control","input"],["type","password","formControlName","password2",1,"form-control","input"],[1,"edit-form","mt-3",3,"ngSubmit","formGroup"],["type","file",1,"form-control","input",3,"change"],[1,"img-preview-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["alt","Avatar preview",1,"img-preview",3,"src"],["alt","Header preview",1,"img-preview","header-preview",3,"src"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),u("click",function(){return o.showUserForm=!o.showUserForm}),r(3,"span"),l(4,"Editar datos"),i(),r(5,"span"),l(6,"\u25BC"),i()(),f(7,ue,11,2,"form",3),i(),r(8,"button",2),u("click",function(){return o.showEmailForm=!o.showEmailForm}),r(9,"span"),l(10,"Cambiar email"),i(),r(11,"span"),l(12,"\u25BC"),i()(),f(13,ge,11,2,"form",4),r(14,"button",2),u("click",function(){return o.showPasswordForm=!o.showPasswordForm}),r(15,"span"),l(16,"Cambiar contrase\xF1a"),i(),r(17,"span"),l(18,"\u25BC"),i()(),f(19,he,11,2,"form",4),r(20,"button",2),u("click",function(){return o.showAvatarForm=!o.showAvatarForm}),r(21,"span"),l(22,"Cambiar avatar"),i(),r(23,"span"),l(24,"\u25BC"),i()(),f(25,_e,8,3,"form",4),r(26,"button",2),u("click",function(){return o.showHeaderForm=!o.showHeaderForm}),r(27,"span"),l(28,"Cambiar portada"),i(),r(29,"span"),l(30,"\u25BC"),i()(),f(31,xe,8,3,"form",4),i()),e&2&&(s(5),C("rotated",o.showUserForm),s(2),p(o.showUserForm?7:-1),s(4),C("rotated",o.showEmailForm),s(2),p(o.showEmailForm?13:-1),s(4),C("rotated",o.showPasswordForm),s(2),p(o.showPasswordForm?19:-1),s(4),C("rotated",o.showAvatarForm),s(2),p(o.showAvatarForm?25:-1),s(4),C("rotated",o.showHeaderForm),s(2),p(o.showHeaderForm?31:-1))},dependencies:[me,se,re,oe,ae,ce,le,de],styles:[".profile-edit-panel[_ngcontent-%COMP%]{background:#f8f6ff;border-radius:.7rem;box-shadow:0 1px 8px #6c2eb721;padding:2rem 1.5rem 1.5rem;max-width:370px;min-width:300px;display:flex;flex-direction:column;gap:1.2rem}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.7rem}.edit-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#6c2eb7;margin-bottom:.2rem}.input[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{border-radius:.3rem;border:1px solid #d1c4e9;padding:.4rem .7rem;font-size:1rem;background:#fff;color:#222}.btn.btn-primary[_ngcontent-%COMP%]{background:#6c2eb7;color:#fff;border:none;border-radius:.3rem;padding:.5rem 1.2rem;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s}.btn.btn-primary[_ngcontent-%COMP%]:disabled{background:#b39ddb;cursor:not-allowed}.img-preview-container[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;justify-content:center}.img-preview[_ngcontent-%COMP%]{max-width:90px;max-height:90px;border-radius:.5rem;box-shadow:0 1px 4px #6c2eb721}.header-preview[_ngcontent-%COMP%]{max-width:180px;max-height:60px;border-radius:.5rem}@media (max-width: 1100px){.profile-edit-panel[_ngcontent-%COMP%]{padding:1.2rem .7rem}}@media (max-width: 900px){.profile-edit-panel[_ngcontent-%COMP%]{min-width:100%;max-width:100%;margin-left:0;margin-top:1.5rem}}.profile-edit-accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}.accordion-item[_ngcontent-%COMP%]{background:#f8f6ff;border-radius:.5rem;box-shadow:0 1px 6px #6c2eb71a;padding:.7rem 1rem 1rem}.accordion-toggle[_ngcontent-%COMP%]{width:100%;background:none;border:none;outline:none;font-size:1.08rem;font-weight:600;color:#6c2eb7;display:flex;align-items:center;justify-content:space-between;cursor:pointer;padding:.5rem 0;transition:color .2s}.accordion-toggle[_ngcontent-%COMP%]:hover{color:#4d1d8d}.accordion-toggle[_ngcontent-%COMP%]   span.rotated[_ngcontent-%COMP%]{display:inline-block;transform:rotate(180deg);transition:transform .2s}.edit-form[_ngcontent-%COMP%]{margin-top:.7rem}"]})};var Ce=(n,t)=>t.id;function we(n,t){if(n&1&&(r(0,"div",1),c(1,"img",2),l(2),i()),n&2){let e=t.$implicit;s(),m("src",e.icon,O),s(),S(" ",e.name," ")}}function Pe(n,t){if(n&1&&(r(0,"div",0),y(1,we,3,2,"div",1,Ce),i()),n&2){let e=d();s(),F(e.achievements)}}function Me(n,t){n&1&&(r(0,"span"),l(1,"No tienes logros a\xFAn."),i())}var G=class n{achievements=[];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["profile-achievements"]],inputs:{achievements:"achievements"},decls:2,vars:1,consts:[[1,"achievements-list"],[1,"achievement-badge"],["alt","icono logro",1,"achievements-icon",3,"src"]],template:function(e,o){e&1&&f(0,Pe,3,0,"div",0)(1,Me,2,0,"span"),e&2&&p(o.achievements!=null&&o.achievements.length?0:1)},styles:[".achievements-icon[_ngcontent-%COMP%]{width:38px;height:38px;min-width:38px;min-height:38px;max-width:38px;max-height:38px;margin-right:.5rem;object-fit:contain}"]})};var Ee=n=>["/profile",n],ye=(n,t)=>t.id;function Fe(n,t){if(n&1&&(r(0,"div",0),l(1),r(2,"a",1),c(3,"img",2),i()()),n&2){let e=t.$implicit;s(),S(" ",e.name," "),s(),m("routerLink",I(2,Ee,e.id))}}function Se(n,t){if(n&1&&y(0,Fe,4,4,"div",0,ye),n&2){let e=d();F(e.friends)}}function ke(n,t){n&1&&(r(0,"div",0),l(1,"No hay alien\xEDgenas amigos a\xFAn."),i())}var $=class n{friends=[];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["profile-friends"]],inputs:{friends:"friends"},decls:2,vars:1,consts:[[1,"profile-friend"],["title","Ver perfil",1,"friend-link",3,"routerLink"],["src","assets/normal/normal_ufo_do_friends.png","alt","Ver perfil",2,"cursor","pointer","width","24px","height","24px"]],template:function(e,o){e&1&&f(0,Se,2,0)(1,ke,2,0,"div",0),e&2&&p(o.friends!=null&&o.friends.length?0:1)},dependencies:[Z,j,H],encapsulation:2})};var Ae=n=>["/home/posts",n],Ue=(n,t)=>t.id;function Te(n,t){if(n&1&&(r(0,"a",0),c(1,"posts-card",1),i()),n&2){let e=t.$implicit;m("routerLink",I(2,Ae,e.id)),s(),m("post",e)}}function Ne(n,t){if(n&1&&y(0,Te,2,4,"a",0,Ue),n&2){let e=d();F(e.posts)}}function Ve(n,t){n&1&&(r(0,"span"),l(1,"No tienes posts a\xFAn."),i())}var q=class n{posts=[];static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["profile-posts"]],inputs:{posts:"posts"},decls:2,vars:1,consts:[[2,"text-decoration","none","color","inherit",3,"routerLink"],[3,"post"]],template:function(e,o){e&1&&f(0,Ne,2,0)(1,Ve,2,0,"span"),e&2&&p(o.posts!=null&&o.posts.length?0:1)},dependencies:[pe,j,H],encapsulation:2})};var W=class n{#e=b(R);getAll(){return this.#e.get("friends")}getById(t,e){return this.#e.get(`friends/${t}/${e}`)}getUserWithFriends(t){return this.#e.get(`friends/user/${t}`)}create(t){return this.#e.post("friends",t)}delete(t,e){return this.#e.delete(`friends/${t}/${e}`)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function Ie(n,t){if(n&1&&(r(0,"div",15)(1,"div",17),l(2,"Logros"),i(),c(3,"profile-achievements",18),i()),n&2){let e=d();s(3),m("achievements",e.userAchievements())}}function Be(n,t){if(n&1&&(r(0,"div",15)(1,"div",17),l(2,"Amigos"),i(),c(3,"profile-friends",19),i()),n&2){let e=d();s(3),m("friends",e.realFriends())}}function ze(n,t){if(n&1&&(r(0,"div",15)(1,"div",17),l(2,"Posts"),i(),c(3,"profile-posts",20),i()),n&2){let e=d();s(3),m("posts",e.userPosts())}}function Re(n,t){if(n&1&&c(0,"profile-edit",22),n&2){d(2);let e=X(0);m("id",e==null?null:e.id)}}function He(n,t){if(n&1){let e=P();r(0,"div",16)(1,"button",21),u("click",function(){g(e);let a=d();return h(a.setEditMode(!a.editMode()))}),l(2),i(),f(3,Re,1,1,"profile-edit",22),i()}if(n&2){let e=d();s(2),S(" ",e.editMode()?"Cancelar edici\xF3n":"Editar perfil"," "),s(),p(e.editMode()?3:-1)}}var fe=class n{userId=V.required({transform:B});profileService=b(A);authService=b(ne);postsService=b(ie);friendService=b(W);userResource=this.profileService.userSelected;user=this.userResource.value;editMode=x(!1);editPasswordMode=x(!1);canEdit=x(!1);userPosts=x([]);realFriends=x([]);activeSection=x(null);userFriends=z(()=>this.userResource.value()?.friends??[]);userAchievements=z(()=>this.userResource.value()?.achievements??[]);constructor(){console.log("ProfileComponent initialized with userId:"),T(()=>{this.profileService.setCurrentUser(this.userId())}),T(()=>{let t=this.authService.currentUser.value(),e=this.userResource.value();if(!t||!e){this.canEdit.set(!1);return}let o=t.role.toUpperCase(),a=t.id;this.canEdit.set(a===e.id||o==="ADMIN")}),T(()=>{let t;if(this.activeSection()==="posts"){let e=this.userResource.value()?.id;typeof e=="number"?t=this.postsService.getPostsByUser(e).subscribe({next:o=>this.userPosts.set(o.posts),error:()=>this.userPosts.set([])}):this.userPosts.set([])}return()=>{t&&t.unsubscribe()}}),T(()=>{let t;if(this.activeSection()==="friends"){let e=this.userResource.value()?.id;typeof e=="number"?t=this.friendService.getUserWithFriends(e).subscribe({next:o=>this.realFriends.set(o.friends??o??[]),error:()=>this.realFriends.set([])}):this.realFriends.set([])}return()=>{t&&t.unsubscribe()}})}changeEditMode(){this.editMode.update(t=>!t)}changePasswordMode(){this.editPasswordMode.update(t=>!t)}headerBackgroundStyle=z(()=>{let t=this.userResource.value;return t()?.heading?{"background-image":`url(${t()?.heading})`}:{}});setEditMode(t){this.editMode.set(t),t||this.editPasswordMode.set(!1)}setActiveSection(t){this.activeSection.set(this.activeSection()===t?null:t)}get isAdmin(){let t=this.authService.currentUser.value();return t&&t.role==="ADMIN"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=w({type:n,selectors:[["profile"]],inputs:{userId:[1,"userId"]},decls:46,vars:21,consts:[[1,"profile-container"],[1,"profile-header"],["alt","Header Image",1,"profile-header",3,"src"],[1,"profile-avatar-container"],["alt","Avatar",1,"profile-avatar",3,"src"],[1,"profile-dashboard"],[1,"profile-main-content"],[1,"profile-info"],[1,"profile-stats"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"profile-section-buttons"],[3,"click"],[1,"profile-sections"],[1,"profile-card","profile-card-active"],[1,"profile-edit-panel"],[1,"card-title"],[3,"achievements"],[3,"friends"],[3,"posts"],[1,"edit-main-btn",3,"click"],[3,"id"]],template:function(e,o){if(e&1){let a=P();K(0),r(1,"div",0)(2,"div",1),c(3,"img",2),i(),r(4,"div",3),c(5,"img",4),i(),r(6,"div",5)(7,"div",6)(8,"div",7)(9,"h2"),l(10),i(),r(11,"p"),l(12),i()(),r(13,"div",8)(14,"div",9)(15,"span",10),l(16),i(),r(17,"span",11),l(18,"Posts"),i()(),r(19,"div",9)(20,"span",10),l(21),i(),r(22,"span",11),l(23,"Amigos"),i()(),r(24,"div",9)(25,"span",10),l(26),i(),r(27,"span",11),l(28,"Likes"),i()(),r(29,"div",9)(30,"span",10),l(31),i(),r(32,"span",11),l(33,"Logros"),i()()(),r(34,"div",12)(35,"button",13),u("click",function(){return g(a),h(o.setActiveSection("posts"))}),l(36,"Posts"),i(),r(37,"button",13),u("click",function(){return g(a),h(o.setActiveSection("friends"))}),l(38,"Amigos"),i(),r(39,"button",13),u("click",function(){return g(a),h(o.setActiveSection("achievements"))}),l(40,"Logros"),i()(),r(41,"div",14),f(42,Ie,4,1,"div",15)(43,Be,4,1,"div",15)(44,ze,4,1,"div",15),i()(),f(45,He,4,2,"div",16),i()()}if(e&2){let a=Q(o.userResource.value());s(3),m("src",a&&a.heading?a.heading:"assets/default-header.jpg",O),s(2),m("src",a&&a.avatar?a.avatar:"assets/default-avatar.png",O),s(),C("edit-mode",o.editMode()),s(4),E(a==null?null:a.name),s(2),E(a==null?null:a.bio),s(4),E((a==null?null:a.numPosts)||0),s(5),E((a==null?null:a.numFriends)||0),s(5),E((a==null?null:a.numLikes)||0),s(5),E((a==null?null:a.numAchievements)||0),s(4),C("active",o.activeSection()==="posts"),s(2),C("active",o.activeSection()==="friends"),s(2),C("active",o.activeSection()==="achievements"),s(3),p(o.activeSection()==="achievements"?42:-1),s(),p(o.activeSection()==="friends"?43:-1),s(),p(o.activeSection()==="posts"?44:-1),s(),p(o.canEdit()?45:-1)}},dependencies:[D,G,$,q],styles:[".profile-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:2.5rem auto 0;display:flex;flex-direction:column;align-items:stretch;position:relative}.profile-header[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:500px;font-family:Roboto,sans-serif;background:none;border-radius:1rem 1rem 0 0;overflow:hidden;display:flex;align-items:flex-end;justify-content:flex-start;padding:0;box-shadow:0 4px 16px #0003;transition:background-image .3s ease-in-out;margin:0 auto 16px}.profile-header[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;border-radius:1rem 1rem 0 0;z-index:1;box-shadow:none}.profile-avatar-container[_ngcontent-%COMP%]{position:absolute;left:50px;top:420px;bottom:0;z-index:20;display:flex;flex-direction:column;align-items:center;pointer-events:auto;width:120px;height:120px}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:4px solid #fff;box-shadow:0 4px 16px #00000040;background:#b37fb3;object-fit:cover;transition:transform .2s;margin-bottom:.5rem;z-index:21}.profile-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.profile-avatar[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{background:#1b7a1b!important;color:#fff!important;border-radius:20px;padding:.2rem 1rem;font-size:.9rem;cursor:pointer;transition:background .2s,box-shadow .2s}.profile-avatar[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover{background:#a3d6a3!important}.profile-avatar[_ngcontent-%COMP%]   .header-btn[_ngcontent-%COMP%]{position:absolute;right:2rem;bottom:1rem}.profile-dashboard[_ngcontent-%COMP%]{background:#141428d9;border-radius:0 0 1rem 1rem;box-shadow:0 2px 16px #0000002e;margin:0 auto;padding-top:90px;width:100%;max-width:1200px;min-height:600px;padding:2.5rem 3rem 2rem;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;position:relative}@media (min-width: 1200px){.profile-dashboard[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 900px){.profile-dashboard[_ngcontent-%COMP%]{flex-direction:column;align-items:center;padding:1rem .5rem;min-width:0;max-width:100vw}}.profile-main-content[_ngcontent-%COMP%]{flex:2 1 0;display:flex;flex-direction:column;align-items:center}@media (max-width: 900px){.profile-main-content[_ngcontent-%COMP%]{width:100%;min-width:0;align-items:center;padding:0}}.profile-edit-panel[_ngcontent-%COMP%]{flex:1 1 320px;max-width:370px;min-width:300px;margin-left:2.5rem;background:#9fc39f;border-radius:.7rem;box-shadow:0 1px 4px #6c2eb71a;padding:2rem 1.5rem 1.5rem;position:relative;top:0}@media (max-width: 1100px){.profile-edit-panel[_ngcontent-%COMP%]{margin-left:1rem;padding:1.2rem .7rem}}@media (max-width: 900px){.profile-edit-panel[_ngcontent-%COMP%]{width:100%;max-width:100vw;margin-left:0;margin-top:1.5rem;padding:1rem .5rem;box-sizing:border-box}}.profile-stats[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;margin-bottom:1.5rem;margin-top:1.5rem}.profile-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:#9fc39f;border-radius:.7rem;box-shadow:0 1px 4px #6c2eb71a;padding:.7rem 1.2rem;min-width:80px}.profile-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#7a1b7a}.profile-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#888}@media (max-width: 900px){.profile-stats[_ngcontent-%COMP%]{flex-wrap:wrap;gap:1rem}}.profile-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.profile-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.2rem;color:#6c2eb7}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin-bottom:.5rem}.profile-info[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{margin:.2rem .5rem}.profile-sections[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;margin-bottom:2rem}@media (max-width: 900px){.profile-sections[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;align-items:center;width:100%}}.profile-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 12px #6c2eb71a;font-family:Roboto,sans-serif;color:#222;padding:2rem 2.2rem;min-width:280px;max-width:400px;flex:1 1 280px;display:flex;flex-direction:column;align-items:flex-start}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#7a1b7a;font-weight:700;font-size:1.25rem;margin-bottom:.9rem}@media (max-width: 900px){.profile-card[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:100vw;padding:1.2rem .7rem;box-sizing:border-box}}.profile-card-active[_ngcontent-%COMP%]{background:#9fc39f!important;color:#222!important;border:2px solid #6c2eb7;box-shadow:0 4px 24px #6c2eb71a;font-size:1.08rem;font-family:Roboto,sans-serif;transition:background .2s,color .2s;min-height:180px;padding:2.5rem 2.5rem 2rem;margin-bottom:1.5rem;border-radius:1.2rem}.profile-card-active[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#6c2eb7!important;font-size:1.25rem;font-weight:700;margin-bottom:1.2rem}.achievements-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.7rem}.achievements-list[_ngcontent-%COMP%]   .achievement-badge[_ngcontent-%COMP%]{display:flex;align-items:center;background:#9fc39f;border-radius:1.5rem;padding:.3rem .9rem .3rem .5rem;box-shadow:0 1px 4px #6c2eb714;font-size:.95rem;color:#6c2eb7;font-weight:500}.edit-btn[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%], .header-btn[_ngcontent-%COMP%]{display:none}.profile-dashboard.edit-mode[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%], .profile-dashboard.edit-mode[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%], .profile-dashboard.edit-mode[_ngcontent-%COMP%]   .header-btn[_ngcontent-%COMP%]{display:initial}.edit-main-btn[_ngcontent-%COMP%]{display:block;margin:0 auto 1.5rem;background:#6c2eb7!important;color:#fff!important;border-radius:.4rem;font-weight:700;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s}.edit-main-btn[_ngcontent-%COMP%]:hover{background:#a3d6a3!important}.profile-section-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;margin-bottom:1.2rem}.profile-section-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#9fc39f;color:#6c2eb7;border:2px solid #6c2eb7;border-radius:1.5rem;padding:.4rem 1.5rem;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s,color .2s}.profile-section-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .profile-section-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#6c2eb7;color:#fff}@media (max-width: 900px){.profile-section-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:.7rem;width:100%;align-items:center;justify-content:center}.profile-section-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto;flex:1 1 0;min-width:0;margin:0}}.profile-section-content[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem;display:flex;justify-content:center;align-items:flex-start}@media (max-width: 900px){.profile-section-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;width:100%;padding:0}}.profile-friend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;font-size:1.08rem;color:#333;margin-bottom:.5rem}.profile-friend[_ngcontent-%COMP%]   .friend-link[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:.3rem;color:#6c2eb7;background:#9fc39f;border-radius:50%;width:2rem;height:2rem;justify-content:center;transition:background .2s,color .2s;text-decoration:none;font-size:1.5rem}.profile-friend[_ngcontent-%COMP%]   .friend-link[_ngcontent-%COMP%]:hover{background:#6c2eb7;color:#fff}.profile-friend[_ngcontent-%COMP%]   .friend-link[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.4rem}@media (max-width: 900px){.profile-dashboard[_ngcontent-%COMP%]{flex-direction:column;align-items:center;padding:1rem .5rem;min-width:0;max-width:100vw}.profile-main-content[_ngcontent-%COMP%]{width:100%;min-width:0;align-items:center;padding:0}.profile-edit-panel[_ngcontent-%COMP%]{width:100%;max-width:100vw;margin-left:0;margin-top:1.5rem;min-width:0;padding:1rem .5rem;box-sizing:border-box}.profile-stats[_ngcontent-%COMP%]{flex-wrap:wrap;gap:1rem}.profile-sections[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;align-items:center;width:100%}.profile-card[_ngcontent-%COMP%], .profile-card-active[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:100vw;padding:1.2rem .7rem;box-sizing:border-box}.profile-section-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:.7rem;width:100%;align-items:center;justify-content:center}.profile-section-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto;flex:1 1 0;min-width:0;margin:0}.profile-section-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;width:100%;padding:0}.profile-card[_ngcontent-%COMP%]   .post-card[_ngcontent-%COMP%]{width:100%!important;min-width:0!important;max-width:100%!important;margin:0!important;box-sizing:border-box}.profile-avatar-container[_ngcontent-%COMP%]{left:50%;top:370px;transform:translate(-50%);width:90px;height:90px}.profile-avatar[_ngcontent-%COMP%]{width:90px;height:90px}}@media (max-width: 600px){.profile-dashboard[_ngcontent-%COMP%]{padding:.5rem .2rem}.profile-edit-panel[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%], .profile-card-active[_ngcontent-%COMP%]{padding:.7rem .2rem}.profile-avatar-container[_ngcontent-%COMP%]{top:320px;width:70px;height:70px}.profile-avatar[_ngcontent-%COMP%]{width:70px;height:70px}.profile-section-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem;padding:.3rem 1rem;min-width:0}.profile-card[_ngcontent-%COMP%]   .post-card[_ngcontent-%COMP%]{padding:.5rem .1rem!important}}"]})};export{fe as ProfileComponent};
