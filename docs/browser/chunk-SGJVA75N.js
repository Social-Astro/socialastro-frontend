import{a as k}from"./chunk-AQOQ23XW.js";import{a as F}from"./chunk-DSC2DUL4.js";import"./chunk-JU6AQGDN.js";import"./chunk-QVJEC5VS.js";import"./chunk-GFFBMY3N.js";import"./chunk-7TJXTN3F.js";import{a as T}from"./chunk-AW7RF5R2.js";import{a as m}from"./chunk-3TMGCKTS.js";import{j as w}from"./chunk-FWI7O2YG.js";import"./chunk-GT6PACLV.js";import{Aa as a,Ib as S,Ka as P,Pa as u,S as r,Wa as d,Z as _,_ as f,ab as M,bb as x,cb as l,da as C,db as p,eb as g,fb as s,gb as O,kb as v,ma as c,nb as h,ob as i,xb as y,zb as b}from"./chunk-W4ZOI5UP.js";import"./chunk-7CGTOI24.js";var $=n=>["/home/posts",n],E=(n,t)=>t.id;function L(n,t){if(n&1){let e=v();g(0,"a",2)(1,"posts-card",3),h("deleted",function(){_(e);let I=i(3);return f(I.nada())}),s()()}if(n&2){let e=i().$implicit;d("routerLink",S(2,$,e.id)),a(),d("post",e)}}function R(n,t){if(n&1&&u(0,L,2,4,"a",2),n&2){let e=t.$implicit,o=i().$implicit;M(e.tag===o?0:-1)}}function V(n,t){if(n&1&&(g(0,"div",0)(1,"h2"),O(2,"img",1),y(3),s(),l(4,R,1,1,null,null,E),s()),n&2){let e=t.$implicit,o=i();a(3),b(" ",e,""),a(),p(o.savedPosts())}}var D=class n{#e=r(C);#t=r(k);#n=r(T);savedPosts=c([]);tags=c([]);constructor(){this.getSavedPosts()}getSavedPosts(){this.#t.getSavedByUser().pipe(m(this.#e)).subscribe({next:t=>{t.forEach(e=>{this.tags.update(o=>[...o,e.postTag]),this.getSinglePost(e.postId)}),console.log(this.savedPosts()),this.reduceTags(),console.log(this.tags())},error:t=>{console.log(t.error.message)}})}getSinglePost(t){this.#n.getPost(t).pipe(m(this.#e)).subscribe({next:e=>{this.savedPosts.update(o=>[...o,e])}})}reduceTags(){this.tags.update(t=>Array.from(new Set(t)))}nada(){console.log("Hola")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=P({type:n,selectors:[["saved"]],decls:2,vars:0,consts:[[1,"fondo-card","mt-4","col-10"],["src","assets/normal/normal_satellite_saved.png","alt","Ir al post","width","40px"],[3,"routerLink"],[3,"deleted","post"]],template:function(e,o){e&1&&l(0,V,6,1,"div",0,x),e&2&&p(o.tags())},dependencies:[F,w],styles:['.fondo-card[_ngcontent-%COMP%]{border-radius:20px;padding:1.5rem;margin-bottom:1rem;opacity:.9;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff}@media (min-width: 1500px){.principal[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}.principal[_ngcontent-%COMP%]   .home[_ngcontent-%COMP%]{grid-column:1/3}}@media (max-width: 1500px){.principal[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media (max-width: 1500px) and (min-width: 1300px){.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;text-align:left}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:relative}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#c7b6c5;text-decoration:none}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background:linear-gradient(to left,#1c1635,#ab9ce0);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .4s ease-out}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   .post-aside[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:.2rem}a[_ngcontent-%COMP%]{text-decoration:none}']})};export{D as SavedComponent};
