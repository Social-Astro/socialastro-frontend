"use strict";(self.webpackChunksocialastro_frontend=self.webpackChunksocialastro_frontend||[]).push([[175],{6688:(k,b,u)=>{u.d(b,{f:()=>R});var e=u(1360),o=u(9079),E=u(4341),_=u(983);let R=(()=>{class f{#e=(0,e.WQX)(E.vS,{optional:!0});#n=(0,e.WQX)(E.vO,{optional:!0});#t=(0,e.WQX)(e.zZn);validationClasses=(0,e.hFB)();valueChanges;touched=(0,e.vPA)(!1);ngOnInit(){this.valueChanges=(0,o.ot)(this.#e?.valueChanges??this.#n?.valueChanges??_.w,{injector:this.#t})}inputClass=(0,e.EWP)(()=>{const v=this.touched(),m=this.validationClasses();return this.valueChanges(),(0,e.O8t)(()=>v?this.#e?.invalid||this.#n?.invalid?m?.invalid:m?.valid:"")});static \u0275fac=function(m){return new(m||f)};static \u0275dir=e.FsC({type:f,selectors:[["","validationClasses","","ngModel",""],["","validationClasses","","formControl",""],["","validationClasses","","formControlName",""]],hostVars:2,hostBindings:function(m,g){1&m&&e.bIt("blur",function(){return g.touched.set(!0)}),2&m&&e.HbH(g.inputClass())},inputs:{validationClasses:[1,"validationClasses"]}})}return f})()},7175:(k,b,u)=>{u.r(b),u.d(b,{RegisterPageComponent:()=>c});var e=u(1360),o=u(4341),E=u(6861),_=u(6688),R=u(6864),f=u(3767);const C=()=>({valid:"is-valid",invalid:"is-invalid"});function v(n,a){1&n&&(e.j41(0,"div",7),e.EFF(1,"Nombre requerido"),e.k0s())}function m(n,a){1&n&&(e.j41(0,"div",7),e.EFF(1,"El nombre de usuario debe tener al menos 5 caracteres"),e.k0s())}function g(n,a){1&n&&(e.j41(0,"div",7),e.EFF(1,"Nombre requerido"),e.k0s())}function F(n,a){1&n&&(e.j41(0,"div",7),e.EFF(1,"Email requerido"),e.k0s())}function j(n,a){1&n&&(e.j41(0,"div",7),e.EFF(1,"Email inv\xe1lido"),e.k0s())}function D(n,a){1&n&&(e.j41(0,"div",7),e.EFF(1,"Email requerido"),e.k0s())}function s(n,a){1&n&&(e.j41(0,"div",7),e.EFF(1,"Los emails no coinciden"),e.k0s())}function t(n,a){1&n&&(e.j41(0,"div",7),e.EFF(1,"Email inv\xe1lido"),e.k0s())}function r(n,a){1&n&&(e.j41(0,"div",7),e.EFF(1,"Contrase\xf1a requerida"),e.k0s())}function i(n,a){1&n&&(e.j41(0,"div",7),e.EFF(1,"La contrase\xf1a debe tener al menos 8 caracteres"),e.k0s())}let c=(()=>{class n{#e=(0,e.WQX)(f.u);#n=(0,e.WQX)(E.Ix);imageBase64;newUserForm=new o.gE({username:new o.MJ("",{nonNullable:!0,validators:[o.k0.required,o.k0.minLength(5)]}),name:new o.MJ("",{nonNullable:!0,validators:[o.k0.required]}),email:new o.MJ("",{nonNullable:!0,validators:[o.k0.required,o.k0.email]}),confirmEmail:new o.MJ("",{nonNullable:!0,validators:[o.k0.required,o.k0.email,(0,R.e)("email","confirmEmail")]}),password:new o.MJ("",{nonNullable:!0,validators:[o.k0.required,o.k0.minLength(4)]})});#t=!1;register(){if(console.log(this.newUserForm.getRawValue()),!this.newUserForm.valid)return;console.log("pasa de aqu\xed");const l={...this.newUserForm.getRawValue(),createdAt:new Date,role:"USER"};console.log(l),this.#e.register(l).subscribe({next:()=>{this.#t=!0,this.#n.navigate(["/auth/login"])},error:d=>console.error("Registration error:",d)})}resetForm(){this.newUserForm.reset()}canDeactivate(){return this.#t||this.newUserForm.pristine||confirm("Do you want to leave the page? Changes will be lost.")}static \u0275fac=function(d){return new(d||n)};static \u0275cmp=e.VBU({type:n,selectors:[["app-register-page"]],decls:45,vars:21,consts:[[1,"text-center","mb-3","register-card"],[1,"card-body"],[1,"card-title"],["action","#","id","form-register",1,"mt-4",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username"],["type","text","id","username","formControlName","username","name","username","placeholder","Nombre de usuario",1,"form-control",3,"validationClasses"],[1,"invalid-feedback"],["for","name"],["type","text","id","name","formControlName","name","name","nameUser","placeholder","Alias",1,"form-control",3,"validationClasses"],["for","email"],["type","email","id","email","formControlName","email","name","email","placeholder","Email",1,"form-control",3,"validationClasses"],["for","confirmEmail"],["type","email","id","confirmEmail","formControlName","confirmEmail","name","confirmEmail","placeholder","Email",1,"form-control",3,"validationClasses"],["for","password"],["type","password","id","password","formControlName","password","name","password","placeholder","Introduce una contrase\xf1a",1,"form-control",3,"validationClasses"],["type","submit",1,"btn","btn-primary"],["src","assets/normal/normal_spaceship_register.png","alt","Login"],[1,"icon-large-container",2,"position","fixed","bottom","40px","left","0%"],["src","assets/normal/normal_spaceship_register.png","alt","Login Icon",2,"width","25rem","opacity","0.8"]],template:function(d,p){if(1&d){const M=e.RV6();e.j41(0,"div",0)(1,"div",1)(2,"h5",2),e.EFF(3,"Crea tu nave"),e.k0s(),e.j41(4,"form",3),e.bIt("ngSubmit",function(){return e.eBV(M),e.Njj(p.register())}),e.j41(5,"div",4)(6,"label",5),e.EFF(7,"Nombre de usuario:"),e.k0s(),e.nrm(8,"input",6),e.SS7(9),e.DNE(10,v,2,0,"div",7)(11,m,2,0,"div",7),e.k0s(),e.j41(12,"div",4)(13,"label",8),e.EFF(14,"Alias:"),e.k0s(),e.nrm(15,"input",9),e.SS7(16),e.DNE(17,g,2,0,"div",7),e.k0s(),e.j41(18,"div",4)(19,"label",10),e.EFF(20,"Email:"),e.k0s(),e.nrm(21,"input",11),e.SS7(22),e.DNE(23,F,2,0,"div",7)(24,j,2,0,"div",7),e.k0s(),e.j41(25,"div",4)(26,"label",12),e.EFF(27,"Repetir email:"),e.k0s(),e.nrm(28,"input",13),e.SS7(29),e.DNE(30,D,2,0,"div",7)(31,s,2,0,"div",7)(32,t,2,0,"div",7),e.k0s(),e.j41(33,"div",4)(34,"label",14),e.EFF(35,"Contrase\xf1a:"),e.k0s(),e.nrm(36,"input",15),e.SS7(37),e.DNE(38,r,2,0,"div",7)(39,i,2,0,"div",7),e.k0s(),e.j41(40,"button",16),e.nrm(41,"img",17),e.EFF(42," Crear Nave "),e.k0s()()()(),e.j41(43,"div",18),e.nrm(44,"img",19),e.k0s()}if(2&d){let M,O,x,T,U;e.R7$(4),e.Y8G("formGroup",p.newUserForm),e.R7$(4),e.Y8G("validationClasses",e.lJ4(16,C));const y=null==(M=p.newUserForm.get("username"))?null:M.errors;e.R7$(2),e.vxM(null!=y&&y.required?10:-1),e.R7$(),e.vxM(null!=y&&y.minlength?11:-1),e.R7$(4),e.Y8G("validationClasses",e.lJ4(17,C));const I=null==(O=p.newUserForm.get("name"))?null:O.errors;e.R7$(2),e.vxM(null!=I&&I.required?17:-1),e.R7$(4),e.Y8G("validationClasses",e.lJ4(18,C));const w=null==(x=p.newUserForm.get("email"))?null:x.errors;e.R7$(2),e.vxM(null!=w&&w.required?23:-1),e.R7$(),e.vxM(null!=w&&w.email?24:-1),e.R7$(4),e.Y8G("validationClasses",e.lJ4(19,C));const h=null==(T=p.newUserForm.get("confirmEmail"))?null:T.errors;e.R7$(2),e.vxM(null!=h&&h.required?30:-1),e.R7$(),e.vxM(null!=h&&h.sameValue?31:-1),e.R7$(),e.vxM(null!=h&&h.email?32:-1),e.R7$(4),e.Y8G("validationClasses",e.lJ4(20,C));const P=null==(U=p.newUserForm.get("password"))?null:U.errors;e.R7$(2),e.vxM(null!=P&&P.required?38:-1),e.R7$(),e.vxM(null!=P&&P.minlength?39:-1)}},dependencies:[o.YN,o.qT,o.me,o.BC,o.cb,o.X1,o.j4,o.JD,_.f],styles:[".card-body[_ngcontent-%COMP%]{z-index:1;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:.9;border-radius:1.5rem;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);font-size:.9rem;color:#fff;padding:2.5rem;width:26rem}.card-body[_ngcontent-%COMP%]   btn[_ngcontent-%COMP%]{align-items:center}"]})}return n})()},9079:(k,b,u)=>{u.d(b,{ZX:()=>D,ot:()=>g,pQ:()=>_});var e=u(1360),o=u(1985),E=u(6977);function _(s){s||((0,e.Af3)(_),s=(0,e.WQX)(e.abz));const t=new o.c(r=>s.onDestroy(r.next.bind(r)));return r=>r.pipe((0,E.Q)(t))}function g(s,t){const r=!t?.manualCleanup;r&&!t?.injector&&(0,e.Af3)(g);const i=r?t?.injector?.get(e.abz)??(0,e.WQX)(e.abz):null,c=function F(s=Object.is){return(t,r)=>1===t.kind&&1===r.kind&&s(t.value,r.value)}(t?.equal);let n;n=(0,e.vPA)(t?.requireSync?{kind:0}:{kind:1,value:t?.initialValue},{equal:c});const a=s.subscribe({next:l=>n.set({kind:1,value:l}),error:l=>{if(t?.rejectErrors)throw l;n.set({kind:2,error:l})}});if(t?.requireSync&&0===n().kind)throw new e.wOt(601,!1);return i?.onDestroy(a.unsubscribe.bind(a)),(0,e.EWP)(()=>{const l=n();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new e.wOt(601,!1)}},{equal:t?.equal})}function D(s){return s?.injector||(0,e.Af3)(D),(0,e.ZcF)({...s,loader:void 0,stream:t=>{let r;const i=()=>r.unsubscribe();t.abortSignal.addEventListener("abort",i);const c=(0,e.vPA)({value:void 0});let n;const a=new Promise(d=>n=d);function l(d){c.set(d),n?.(c),n=void 0}return r=s.loader(t).subscribe({next:d=>l({value:d}),error:d=>l({error:d}),complete:()=>{n&&l({error:new Error("Resource completed before producing a value")}),t.abortSignal.removeEventListener("abort",i)}}),a}})}}}]);