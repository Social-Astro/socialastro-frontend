"use strict";(self.webpackChunksocialastro_frontend=self.webpackChunksocialastro_frontend||[]).push([[401],{9401:(N,_,c)=>{c.r(_),c.d(_,{TopicsPageComponent:()=>V});var t=c(1360),l=c(5692),r=c(9079),u=c(33),f=c(2008),m=c(1988),s=c(4341),P=c(6688),M=c(8434);const h=()=>({row:"!partial"}),d=()=>({valid:"is-valid",invalid:"is-invalid"});function O(o,a){if(1&o){const n=t.RV6();t.j41(0,"div",1)(1,"label",2),t.EFF(2,"Nombre"),t.k0s(),t.nrm(3,"input",3),t.k0s(),t.j41(4,"div",1)(5,"label",4),t.EFF(6,"Descripci\xf3n"),t.k0s(),t.nrm(7,"input",5),t.k0s(),t.j41(8,"div",6)(9,"button",7),t.EFF(10," Guardar "),t.k0s(),t.j41(11,"button",8),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.hideForm())}),t.EFF(12," Abortar misi\xf3n "),t.k0s()()}if(2&o){const n=t.XpG();t.R7$(3),t.Y8G("validationClasses",t.lJ4(3,d)),t.R7$(4),t.Y8G("validationClasses",t.lJ4(4,d)),t.R7$(2),t.Y8G("disabled",n.topicForm.invalid)}}function b(o,a){if(1&o){const n=t.RV6();t.nrm(0,"input",9),t.j41(1,"div",6)(2,"button",10),t.nrm(3,"i",11),t.k0s(),t.j41(4,"button",12),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.hideForm())}),t.nrm(5,"i",13),t.k0s()()}if(2&o){const n=t.XpG();t.Y8G("validationClasses",t.lJ4(2,d)),t.R7$(2),t.Y8G("disabled",n.topicForm.invalid)}}let g=(()=>{class o{#t=(0,t.WQX)(l._);#n=(0,t.WQX)(t.abz);#o=(0,t.WQX)(s.Qk);topic=(0,t.hFB)();saved=(0,t.CGW)();hide=(0,t.CGW)();partial=!1;topicForm=this.#o.group({title:["",[s.k0.required]],description:["",[s.k0.required]]});constructor(){(0,t.QZP)(()=>{this.topic()&&(this.topicForm.get("title").setValue(this.topic().title),this.topicForm.get("description").setValue(this.topic().description),this.partial=!0,console.log(this.partial))})}sendTopic(){const n={...this.topicForm.getRawValue(),image:""};this.partial?this.#t.editTopic(n,this.topic().id).pipe((0,r.pQ)(this.#n)).subscribe({next:()=>{this.saved.emit()},error:e=>console.log(e.error.message)}):this.#t.addTopic(n).pipe((0,r.pQ)(this.#n)).subscribe({next:()=>{this.saved.emit()},error:e=>console.log(e.error.message)})}hideForm(){this.hide.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=t.VBU({type:o,selectors:[["topics-form"]],inputs:{topic:[1,"topic"]},outputs:{saved:"saved",hide:"hide"},decls:3,vars:4,consts:[[1,"mt-4",3,"ngSubmit","formGroup","ngClass"],[1,"col-6"],["for","title",1,"form-label"],["type","text","name","title","formControlName","title",1,"form-control","input",3,"validationClasses"],["for","desc",1,"form-label"],["type","text","name","desc","formControlName","description",1,"form-control","input",3,"validationClasses"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-outlined-primary","m-2",3,"disabled"],["type","button",1,"btn","btn-outlined-danger","m-2",3,"click"],["type","text","name","title","formControlName","title",1,"form-control","form-control-sm","input",3,"validationClasses"],["type","submit",1,"btn","m-1",3,"disabled"],[1,"bi","bi-floppy"],["type","button",1,"btn","m-1",3,"click"],[1,"bi","bi-x"]],template:function(e,i){1&e&&(t.j41(0,"form",0),t.bIt("ngSubmit",function(){return i.sendTopic()}),t.DNE(1,O,13,5)(2,b,6,3),t.k0s()),2&e&&(t.Y8G("formGroup",i.topicForm)("ngClass",t.lJ4(3,h)),t.R7$(),t.vxM(i.partial?2:1))},dependencies:[s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,P.f,M.YU],styles:[".input[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0d0032cc,#000c);color:#d6a3d6}"]})}return o})();const C=o=>["/home/topics",o];function v(o,a){if(1&o){const n=t.RV6();t.j41(0,"div",3)(1,"p-button",9),t.bIt("click",function(i){t.eBV(n);const p=t.sdS(3);return t.Njj(p.toggle(i))}),t.k0s(),t.j41(2,"p-popover",null,0)(4,"div",10)(5,"button",11),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.showEditForm())}),t.nrm(6,"i",12),t.k0s(),t.j41(7,"button",11),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.deleteTopic())}),t.nrm(8,"i",13),t.k0s()()()()}2&o&&(t.R7$(),t.Y8G("rounded",!0))}function T(o,a){if(1&o&&(t.j41(0,"a",7)(1,"p",14),t.EFF(2),t.k0s()()),2&o){const n=t.XpG();t.Y8G("routerLink",t.eq3(2,C,n.topic().id)),t.R7$(2),t.JRh(n.topic().title)}}function y(o,a){if(1&o){const n=t.RV6();t.j41(0,"topics-form",15),t.bIt("saved",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.showEditForm())})("hide",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.showEditForm())}),t.k0s()}if(2&o){const n=t.XpG();t.Y8G("topic",n.topic())}}let x=(()=>{class o{#t=(0,t.WQX)(l._);#n=(0,t.WQX)(t.abz);topic=t.hFB.required();actualUser=t.hFB.required();edit=(0,t.vPA)(!1);deleted=(0,t.CGW)();edited=(0,t.CGW)();showEditForm(){this.edited.emit(),this.edit.update(n=>!n)}deleteTopic(){this.#t.deleteTopic(this.topic().id).pipe((0,r.pQ)(this.#n)).subscribe({next:()=>{this.deleted.emit()},error:n=>console.log(n.error.message)})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=t.VBU({type:o,selectors:[["topics-card"]],inputs:{topic:[1,"topic"],actualUser:[1,"actualUser"]},outputs:{deleted:"deleted",edited:"edited"},decls:8,vars:5,consts:[["op",""],[1,"topic"],[1,"topic-content"],[1,"settings"],[3,"routerLink"],["src","assets/normal/normal_galaxy_topic.png","alt","Icono topics",1,"card-img-top"],[1,"topic-body"],[1,"topic-title",3,"routerLink"],[3,"topic"],["icon","pi pi-cog","size","small","severity","help",3,"click","rounded"],[1,"flex","gap-6"],[1,"btn","btn-sm","m-1",3,"click"],[1,"bi","bi-pencil"],[1,"bi","bi-trash-fill"],[2,"font-size","x-large"],[3,"saved","hide","topic"]],template:function(e,i){1&e&&(t.j41(0,"div",1)(1,"div",2),t.DNE(2,v,9,1,"div",3),t.j41(3,"a",4),t.nrm(4,"img",5),t.k0s(),t.j41(5,"div",6),t.DNE(6,T,3,4,"a",7)(7,y,1,1,"topics-form",8),t.k0s()()()),2&e&&(t.R7$(2),t.vxM(i.actualUser()&&"ADMIN"===i.actualUser().role&&!i.edit()?2:-1),t.R7$(),t.Y8G("routerLink",t.eq3(3,C,i.topic().id)),t.R7$(3),t.vxM(i.edit()?7:6))},dependencies:[u.Wk,f.AM,m.tm,m.$n,g],styles:['@keyframes _ngcontent-%COMP%_float{0%{transform:translatey(0)}50%{transform:translatey(-20px)}to{transform:translatey(0)}}.topic[_ngcontent-%COMP%]{background:none;border:0;transform:scale(.8);animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0d0032cc,#000c);border-radius:100px;padding:1rem;margin:.5rem;color:#b1b1b1;width:fit-content;height:fit-content;position:relative;overflow:hidden;transition:all .5s ease}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{position:absolute;left:40%;bottom:5%}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]   .topic-body[_ngcontent-%COMP%]{position:relative;bottom:1rem}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]   .topic-body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]   .topic-body[_ngcontent-%COMP%]   .topic-title[_ngcontent-%COMP%]{color:#8c6e8c;text-decoration:none}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]   .topic-body[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background-color:transparent;color:#d6a3d6}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]   .topic-body[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:20px}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(.7)}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(0deg,transparent,transparent 30%,rgba(214,163,214,.3));transform:rotate(-45deg);transition:all .5s ease;opacity:0}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]:hover{filter:brightness(1.75);transform:scale(1.05);box-shadow:0 0 20px #d6a3d680}.topic[_ngcontent-%COMP%]   .topic-content[_ngcontent-%COMP%]:hover:before{opacity:1;transform:rotate(-45deg) translateY(100%)}']})}return o})();var F=c(3767);const k=(o,a)=>a.id;function j(o,a){if(1&o){const n=t.RV6();t.j41(0,"div",4)(1,"topics-form",6),t.bIt("saved",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.showTopicsForm())})("hide",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.showTopicsForm())}),t.k0s()()}}function G(o,a){if(1&o){const n=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.showTopicsForm())}),t.nrm(1,"img",8),t.EFF(2," Agregar galaxia "),t.k0s()}}function X(o,a){if(1&o&&(t.j41(0,"div",0)(1,"h2",3),t.EFF(2,"Panel de mando"),t.k0s(),t.DNE(3,j,2,0,"div",4)(4,G,3,0,"button",5),t.k0s()),2&o){const n=t.XpG();t.R7$(3),t.vxM(n.showForm()?3:4)}}function w(o,a){if(1&o){const n=t.RV6();t.j41(0,"topics-card",9),t.bIt("deleted",function(){const i=t.eBV(n).$implicit,p=t.XpG();return t.Njj(p.deleteTopic(i))})("edited",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.getTopics())}),t.k0s()}if(2&o){const n=a.$implicit,e=t.XpG();t.Y8G("topic",n)("actualUser",e.actualUser())}}function R(o,a){1&o&&(t.j41(0,"p"),t.EFF(1,"Sin datos"),t.k0s())}let V=(()=>{class o{#t=(0,t.WQX)(l._);#n=(0,t.WQX)(t.abz);#o=(0,t.WQX)(F.u);actualUser=(0,t.vPA)(void 0);topics=(0,t.vPA)([]);showForm=(0,t.vPA)(!1);constructor(){this.getTopics(),(0,t.QZP)(()=>{this.actualUser.set(this.#o.currentUser.value()),console.log("USER: ",this.actualUser())})}showTopicsForm(){this.showForm()&&this.getTopics(),this.showForm.update(n=>!n)}getTopics(){this.#t.getTopics().pipe((0,r.pQ)(this.#n)).subscribe({next:n=>{this.topics.set(n)},error:n=>{console.log(n.error.message)}})}deleteTopic(n){this.topics.update(e=>e.filter(i=>i!==n))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=t.VBU({type:o,selectors:[["topics-page"]],decls:5,vars:2,consts:[[1,"fondo-card"],[1,"group","fondo-card"],[1,"topic-card",3,"topic","actualUser"],[2,"font-size","large"],[1,"col-12"],[1,"btn","btn-outline-info"],[3,"saved","hide"],[1,"btn","btn-outline-info",3,"click"],["src","assets/normal/normal_galaxy_topic.png","alt","Icono topics","width","25px;"],[1,"topic-card",3,"deleted","edited","topic","actualUser"]],template:function(e,i){1&e&&(t.DNE(0,X,5,1,"div",0),t.j41(1,"div",1),t.Z7z(2,w,1,2,"topics-card",2,k,!1,R,2,0,"p"),t.k0s()),2&e&&(t.vxM(i.actualUser()&&"ADMIN"===i.actualUser().role?0:-1),t.R7$(2),t.Dyx(i.topics()))},dependencies:[x,g],styles:['.fondo-card[_ngcontent-%COMP%]{border-radius:20px;padding:1.5rem;margin-bottom:1rem;opacity:.9;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff}@media (min-width: 1500px){.principal[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}.principal[_ngcontent-%COMP%]   .home[_ngcontent-%COMP%]{grid-column:1/3}}@media (max-width: 1500px){.principal[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media (max-width: 1500px) and (min-width: 1300px){.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;text-align:left}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:relative}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#c7b6c5;text-decoration:none}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background:linear-gradient(to left,#1c1635,#ab9ce0);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .4s ease-out}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   .post-aside[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:.2rem}@keyframes _ngcontent-%COMP%_float{0%{transform:translatey(0)}50%{transform:translatey(-20px)}to{transform:translatey(0)}}.group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));grid-column-gap:10px;grid-row-gap:10px}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(1){animation:_ngcontent-%COMP%_float 25s ease-in-out infinite;animation-delay:1s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(2){animation:_ngcontent-%COMP%_float 5s ease-in-out infinite;animation-delay:6s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(3){animation:_ngcontent-%COMP%_float 20s ease-in-out infinite;animation-delay:5s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(4){animation:_ngcontent-%COMP%_float 10s ease-in-out infinite;animation-delay:3s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(5){animation:_ngcontent-%COMP%_float 10s ease-in-out infinite;animation-delay:1s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(6){animation:_ngcontent-%COMP%_float 25s ease-in-out infinite;animation-delay:6s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(7){animation:_ngcontent-%COMP%_float 25s ease-in-out infinite;animation-delay:6s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(8){animation:_ngcontent-%COMP%_float 25s ease-in-out infinite;animation-delay:7s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(9){animation:_ngcontent-%COMP%_float 5s ease-in-out infinite;animation-delay:1s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(10){animation:_ngcontent-%COMP%_float 20s ease-in-out infinite;animation-delay:3s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(11){animation:_ngcontent-%COMP%_float 10s ease-in-out infinite;animation-delay:4s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(12){animation:_ngcontent-%COMP%_float 15s ease-in-out infinite;animation-delay:8s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(13){animation:_ngcontent-%COMP%_float 5s ease-in-out infinite;animation-delay:2s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(14){animation:_ngcontent-%COMP%_float 15s ease-in-out infinite;animation-delay:9s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(15){animation:_ngcontent-%COMP%_float 10s ease-in-out infinite;animation-delay:3s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(16){animation:_ngcontent-%COMP%_float 10s ease-in-out infinite;animation-delay:3s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(17){animation:_ngcontent-%COMP%_float 20s ease-in-out infinite;animation-delay:9s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(18){animation:_ngcontent-%COMP%_float 5s ease-in-out infinite;animation-delay:8s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(19){animation:_ngcontent-%COMP%_float 15s ease-in-out infinite;animation-delay:2s}.group[_ngcontent-%COMP%]   .topic-card[_ngcontent-%COMP%]:nth-child(20){animation:_ngcontent-%COMP%_float 10s ease-in-out infinite;animation-delay:4s}']})}return o})()}}]);