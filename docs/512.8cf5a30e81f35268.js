"use strict";(self.webpackChunksocialastro_frontend=self.webpackChunksocialastro_frontend||[]).push([[512],{935:(b,C,o)=>{o.d(C,{$C:()=>T,vw:()=>P});var t=o(8434),e=o(1360),g=o(5779),O=o(3491),m=o(6263);const v=["icon"],s=["*"];function c(n,y){if(1&n&&e.nrm(0,"span",4),2&n){const i=e.XpG(2);e.Y8G("ngClass",i.icon)}}function h(n,y){if(1&n&&(e.qex(0),e.DNE(1,c,1,1,"span",3),e.bVm()),2&n){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.icon)}}function _(n,y){}function f(n,y){1&n&&e.DNE(0,_,0,0,"ng-template")}function d(n,y){if(1&n&&(e.j41(0,"span",5),e.DNE(1,f,1,0,null,6),e.k0s()),2&n){const i=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",i.iconTemplate||i._iconTemplate)}}const r=({dt:n})=>`\n.p-tag {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    background: ${n("tag.primary.background")};\n    color: ${n("tag.primary.color")};\n    font-size: ${n("tag.font.size")};\n    font-weight: ${n("tag.font.weight")};\n    padding: ${n("tag.padding")};\n    border-radius: ${n("tag.border.radius")};\n    gap: ${n("tag.gap")};\n}\n\n.p-tag-icon {\n    font-size: ${n("tag.icon.size")};\n    width: ${n("tag.icon.size")};\n    height:${n("tag.icon.size")};\n}\n\n.p-tag-rounded {\n    border-radius: ${n("tag.rounded.border.radius")};\n}\n\n.p-tag-success {\n    background: ${n("tag.success.background")};\n    color: ${n("tag.success.color")};\n}\n\n.p-tag-info {\n    background: ${n("tag.info.background")};\n    color: ${n("tag.info.color")};\n}\n\n.p-tag-warn {\n    background: ${n("tag.warn.background")};\n    color: ${n("tag.warn.color")};\n}\n\n.p-tag-danger {\n    background: ${n("tag.danger.background")};\n    color: ${n("tag.danger.color")};\n}\n\n.p-tag-secondary {\n    background: ${n("tag.secondary.background")};\n    color: ${n("tag.secondary.color")};\n}\n\n.p-tag-contrast {\n    background: ${n("tag.contrast.background")};\n    color: ${n("tag.contrast.color")};\n}\n`,M={root:({props:n})=>["p-tag p-component",{"p-tag-info":"info"===n.severity,"p-tag-success":"success"===n.severity,"p-tag-warn":"warn"===n.severity,"p-tag-danger":"danger"===n.severity,"p-tag-secondary":"secondary"===n.severity,"p-tag-contrast":"contrast"===n.severity,"p-tag-rounded":n.rounded}],icon:"p-tag-icon",label:"p-tag-label"};let a=(()=>{class n extends m.j{name="tag";theme=r;classes=M;static \u0275fac=(()=>{let i;return function(p){return(i||(i=e.xGo(n)))(p||n)}})();static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),P=(()=>{class n extends O.${get style(){return this._style}set style(i){this._style=i,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;iconTemplate;templates;_iconTemplate;_style;_componentStyle=(0,e.WQX)(a);ngAfterContentInit(){this.templates?.forEach(i=>{"icon"===i.getType()&&(this._iconTemplate=i.template)})}containerClass(){let i="p-tag p-component";return this.severity&&(i+=` p-tag-${this.severity}`),this.rounded&&(i+=" p-tag-rounded"),this.styleClass&&(i+=` ${this.styleClass}`),i}static \u0275fac=(()=>{let i;return function(p){return(i||(i=e.xGo(n)))(p||n)}})();static \u0275cmp=e.VBU({type:n,selectors:[["p-tag"]],contentQueries:function(u,p,E){if(1&u&&(e.wni(E,v,4),e.wni(E,g.Ei,4)),2&u){let x;e.mGM(x=e.lsd())&&(p.iconTemplate=x.first),e.mGM(x=e.lsd())&&(p.templates=x)}},hostVars:4,hostBindings:function(u,p){2&u&&(e.Aen(p.style),e.HbH(p.containerClass()))},inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",e.L39]},features:[e.Jv_([a]),e.Vt3],ngContentSelectors:s,decls:5,vars:3,consts:[[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-label"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(u,p){1&u&&(e.NAR(),e.SdG(0),e.DNE(1,h,2,1,"ng-container",0)(2,d,2,1,"span",1),e.j41(3,"span",2),e.EFF(4),e.k0s()),2&u&&(e.R7$(),e.Y8G("ngIf",!p.iconTemplate&&!p._iconTemplate),e.R7$(),e.Y8G("ngIf",p.iconTemplate||p._iconTemplate),e.R7$(2),e.JRh(p.value))},dependencies:[t.MD,t.YU,t.bT,t.T3,g.Gg],encapsulation:2,changeDetection:0})}return n})(),T=(()=>{class n{static \u0275fac=function(u){return new(u||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[P,g.Gg,g.Gg]})}return n})()},5428:(b,C,o)=>{o.d(C,{n:()=>s});var t=o(1360),e=o(4395),g=o(9079),O=o(9662),m=o(8434),v=o(935);let s=(()=>{class c{#t=(0,t.WQX)(e.v);#n=(0,t.WQX)(O.y);#e=(0,t.WQX)(t.abz);post=t.hFB.required();commentsResource=(0,g.ZX)({request:()=>this.post().id,loader:({request:_})=>this.#n.getCommentsByPost(_)});lastVisit=(0,t.EWP)(()=>this.commentsResource.value()?.comments.slice().sort((_,f)=>f.content.updatedAt.toString().localeCompare(_.content.updatedAt.toString()))[0]);deleted=(0,t.CGW)();constructor(){(0,t.QZP)(()=>{console.log(this.post())})}deletePost(){this.#t.deletePost(this.post().id).pipe((0,g.pQ)(this.#e)).subscribe({next:()=>{this.deleted.emit()},error:_=>console.log(_.error.message)})}static \u0275fac=function(f){return new(f||c)};static \u0275cmp=t.VBU({type:c,selectors:[["posts-card"]],inputs:{post:[1,"post"]},outputs:{deleted:"deleted"},decls:17,vars:11,consts:[[1,"posts","mb-3"],[1,"info"],[1,"mb-0","titulo"],[1,"desc","mb-0"],[1,"seccion"],["icon","pi pi-hashtag","severity","info",3,"value","rounded"],[1,"user"],[1,"extra"],[1,"mb-0"]],template:function(f,d){1&f&&(t.j41(0,"div",0)(1,"div",1)(2,"p",2),t.EFF(3),t.k0s(),t.j41(4,"p",3),t.EFF(5),t.k0s(),t.j41(6,"p",4),t.EFF(7),t.k0s(),t.nrm(8,"p-tag",5),t.k0s(),t.j41(9,"p",6),t.EFF(10),t.k0s(),t.j41(11,"div",7)(12,"p",8),t.EFF(13),t.k0s(),t.j41(14,"p"),t.EFF(15),t.nI1(16,"date"),t.k0s()()()),2&f&&(t.R7$(3),t.JRh(d.post().title),t.R7$(2),t.SpI("",d.post().content.description.substr(0,40),"..."),t.R7$(2),t.SpI("Sistema: ",d.post().section.title,""),t.R7$(),t.Y8G("value",d.post().tag)("rounded",!0),t.R7$(2),t.JRh(d.post().content.user.username),t.R7$(3),t.JRh(d.lastVisit()?d.lastVisit().content.user.username:d.post().content.user.username),t.R7$(2),t.SpI("",t.i5U(16,8,d.lastVisit()?d.lastVisit().content.updatedAt:d.post().content.updatedAt,"h:mm a - dd/MM/yyyy")," "))},dependencies:[m.vh,v.$C,v.vw],styles:['@charset "UTF-8";.fondo-card[_ngcontent-%COMP%]{border-radius:20px;padding:1.5rem;margin-bottom:1rem;opacity:.9;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff}@media (min-width: 1500px){.principal[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}.principal[_ngcontent-%COMP%]   .home[_ngcontent-%COMP%]{grid-column:1/3}}@media (max-width: 1500px){.principal[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media (max-width: 1500px) and (min-width: 1300px){.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;text-align:left}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:relative}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#c7b6c5;text-decoration:none}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background:linear-gradient(to left,#1c1635,#ab9ce0);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .4s ease-out}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   .post-aside[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:.2rem}.titulo-section-posts[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center}@media (max-width: 1200px){.titulo-section-posts[_ngcontent-%COMP%]   .terraformar[_ngcontent-%COMP%]{margin-top:.5rem;flex-grow:1}}.titulo-section-posts[_ngcontent-%COMP%]   .section-nombre[_ngcontent-%COMP%]{flex-grow:1;text-align:left;padding-left:1.5rem;align-self:center}.titulo-section-posts[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0d0032cc,#000c);color:#d6a3d6;height:fit-content}.titulo-section-posts[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#d6a3d6;opacity:.6}.header-info[_ngcontent-%COMP%]{display:flex;justify-content:center;background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff;border-radius:25px;padding-top:.7rem}.header-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{text-align:left;padding-left:1.5rem;flex-grow:1}.header-info[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{flex-grow:1;text-align:center}.header-info[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]{padding-right:1.5rem}@media (max-width: 1000px){.header-info[_ngcontent-%COMP%]{display:none}}a[_ngcontent-%COMP%]{text-decoration:none}  .p-paginator{background:transparent;padding:10px;border-radius:8px}.go-back[_ngcontent-%COMP%]{width:fit-content;padding:.4rem;border-radius:50px;background-color:#5fa35f}.go-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{align-self:center}.posts[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#8e6ee6cc,#0000);margin:.3rem;border-radius:25px;height:fit-content;font-size:small;padding:1rem;color:#b1b1b1}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{text-align:left}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-weight:700}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{text-indent:.3rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.posts[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .posts[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]{text-align:right}.posts[_ngcontent-%COMP%]:hover{filter:brightness(1.75)}@media (min-width: 1000px){.posts[_ngcontent-%COMP%]{display:flex}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex-grow:1}.posts[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{flex-grow:1;text-align:center}}@media (max-width: 1000px){.user[_ngcontent-%COMP%]:before{font-weight:700;content:"Astronauta: "}.extra[_ngcontent-%COMP%]:before{font-weight:700;content:"\\daltima interacci\\f3n: "}}@media (max-width: 768px){.posts[_ngcontent-%COMP%]{display:flex;flex-direction:column}.posts[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.info){text-align:right}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:.8rem}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]{order:-1}.posts[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{margin-bottom:0}}']})}return c})()},8512:(b,C,o)=>{o.r(C),o.d(C,{SavedComponent:()=>d});var t=o(1360),e=o(1835),g=o(9079),O=o(4395),m=o(5428),v=o(33);const s=r=>["/home/posts",r],c=(r,M)=>M.id;function h(r,M){if(1&r){const a=t.RV6();t.j41(0,"a",2)(1,"posts-card",3),t.bIt("deleted",function(){t.eBV(a);const P=t.XpG(3);return t.Njj(P.nada())}),t.k0s()()}if(2&r){const a=t.XpG().$implicit;t.Y8G("routerLink",t.eq3(2,s,a.id)),t.R7$(),t.Y8G("post",a)}}function _(r,M){if(1&r&&t.DNE(0,h,2,4,"a",2),2&r){const a=M.$implicit,l=t.XpG().$implicit;t.vxM(a.tag===l?0:-1)}}function f(r,M){if(1&r&&(t.j41(0,"div",0)(1,"h2"),t.nrm(2,"img",1),t.EFF(3),t.k0s(),t.Z7z(4,_,1,1,null,null,c),t.k0s()),2&r){const a=M.$implicit,l=t.XpG();t.R7$(3),t.SpI(" ",a,""),t.R7$(),t.Dyx(l.savedPosts())}}let d=(()=>{class r{#t=(0,t.WQX)(t.abz);#n=(0,t.WQX)(e.R);#e=(0,t.WQX)(O.v);savedPosts=(0,t.vPA)([]);tags=(0,t.vPA)([]);constructor(){this.getSavedPosts()}getSavedPosts(){this.#n.getSavedByUser().pipe((0,g.pQ)(this.#t)).subscribe({next:a=>{a.forEach(l=>{this.tags.update(P=>[...P,l.postTag]),this.getSinglePost(l.postId)}),console.log(this.savedPosts()),this.reduceTags(),console.log(this.tags())},error:a=>{console.log(a.error.message)}})}getSinglePost(a){this.#e.getPost(a).pipe((0,g.pQ)(this.#t)).subscribe({next:l=>{this.savedPosts.update(P=>[...P,l])}})}reduceTags(){this.tags.update(a=>Array.from(new Set(a)))}nada(){console.log("Hola")}static \u0275fac=function(l){return new(l||r)};static \u0275cmp=t.VBU({type:r,selectors:[["saved"]],decls:2,vars:0,consts:[[1,"fondo-card","mt-4","col-10"],["src","assets/normal/normal_satellite_saved.png","alt","Ir al post","width","40px"],[3,"routerLink"],[3,"deleted","post"]],template:function(l,P){1&l&&t.Z7z(0,f,6,1,"div",0,t.fX1),2&l&&t.Dyx(P.tags())},dependencies:[m.n,v.Wk],styles:['.fondo-card[_ngcontent-%COMP%]{border-radius:20px;padding:1.5rem;margin-bottom:1rem;opacity:.9;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff}@media (min-width: 1500px){.principal[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}.principal[_ngcontent-%COMP%]   .home[_ngcontent-%COMP%]{grid-column:1/3}}@media (max-width: 1500px){.principal[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media (max-width: 1500px) and (min-width: 1300px){.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;text-align:left}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:relative}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#c7b6c5;text-decoration:none}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background:linear-gradient(to left,#1c1635,#ab9ce0);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .4s ease-out}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   .post-aside[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:.2rem}a[_ngcontent-%COMP%]{text-decoration:none}']})}return r})()},9662:(b,C,o)=>{o.d(C,{y:()=>O});var t=o(3165),e=o(1360),g=o(6354);let O=(()=>{class m{#t="comments";#n=(0,e.WQX)(t.Qq);getComments(){return this.#n.get(this.#t).pipe((0,g.T)(s=>s))}getCommentsByPost(s,c=1){let h=new URLSearchParams({page:String(c)});return this.#n.get(`${this.#t}/${s}/post?${h.toString()}`).pipe((0,g.T)(_=>_))}getComment(s){return this.#n.get(`${this.#t}/${s}`).pipe((0,g.T)(c=>c))}addComment(s){return this.#n.post(this.#t,s).pipe((0,g.T)(c=>c))}editComment(s,c){return this.#n.put(`${this.#t}/${c}`,s).pipe((0,g.T)(h=>h))}deleteComment(s){return this.#n.delete(`${this.#t}/${s}`)}static \u0275fac=function(c){return new(c||m)};static \u0275prov=e.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}return m})()}}]);