import{a as K}from"./chunk-IJORAC4J.js";import{b as M}from"./chunk-4STJHMTN.js";import{a as J}from"./chunk-5677HV7J.js";import{b as A,c as l,e as G,f as I,g as O,i as f,k,m as z,o as B,u as j,v as H}from"./chunk-EDEUMYWG.js";import"./chunk-3TMGCKTS.js";import{i as D}from"./chunk-FWI7O2YG.js";import"./chunk-GT6PACLV.js";import{Aa as r,Db as g,Hb as v,Ka as T,Pa as p,S as h,Wa as d,Z as q,_ as U,ab as o,eb as t,fb as e,gb as m,kb as L,nb as V,xb as n}from"./chunk-W4ZOI5UP.js";import{a as R,b as P}from"./chunk-7CGTOI24.js";var _=()=>({valid:"is-valid",invalid:"is-invalid"});function W(i,a){i&1&&(t(0,"div",7),n(1,"Nombre requerido"),e())}function X(i,a){i&1&&(t(0,"div",7),n(1,"El nombre de usuario debe tener al menos 5 caracteres"),e())}function Y(i,a){i&1&&(t(0,"div",7),n(1,"Nombre requerido"),e())}function Z(i,a){i&1&&(t(0,"div",7),n(1,"Email requerido"),e())}function $(i,a){i&1&&(t(0,"div",7),n(1,"Email inv\xE1lido"),e())}function ee(i,a){i&1&&(t(0,"div",7),n(1,"Email requerido"),e())}function ie(i,a){i&1&&(t(0,"div",7),n(1,"Los emails no coinciden"),e())}function te(i,a){i&1&&(t(0,"div",7),n(1,"Email inv\xE1lido"),e())}function ne(i,a){i&1&&(t(0,"div",7),n(1,"Contrase\xF1a requerida"),e())}function re(i,a){i&1&&(t(0,"div",7),n(1,"La contrase\xF1a debe tener al menos 8 caracteres"),e())}var Q=class i{#i=h(M);#t=h(D);newUserForm=new O({username:new f("",{nonNullable:!0,validators:[l.required,l.minLength(5)]}),name:new f("",{nonNullable:!0,validators:[l.required]}),email:new f("",{nonNullable:!0,validators:[l.required,l.email]}),confirmEmail:new f("",{nonNullable:!0,validators:[l.required,l.email,K("email","confirmEmail")]}),password:new f("",{nonNullable:!0,validators:[l.required,l.minLength(4)]})});#e=!1;register(){if(console.log(this.newUserForm.getRawValue()),!this.newUserForm.valid)return;console.log("pasa de aqu\xED");let a=P(R({},this.newUserForm.getRawValue()),{createdAt:new Date,role:"USER"});console.log(a),this.#i.register(a).subscribe({next:()=>{this.#e=!0,this.#t.navigate(["/auth/login"])},error:u=>console.error("Registration error:",u)})}resetForm(){this.newUserForm.reset()}canDeactivate(){return this.#e||this.newUserForm.pristine||confirm("Do you want to leave the page? Changes will be lost.")}static \u0275fac=function(u){return new(u||i)};static \u0275cmp=T({type:i,selectors:[["app-register-page"]],decls:45,vars:21,consts:[[1,"text-center","mb-3","register-card"],[1,"card-body"],[1,"card-title"],["action","#","id","form-register",1,"mt-4",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username"],["type","text","id","username","formControlName","username","name","username","placeholder","Nombre de usuario",1,"form-control",3,"validationClasses"],[1,"invalid-feedback"],["for","name"],["type","text","id","name","formControlName","name","name","nameUser","placeholder","Alias",1,"form-control",3,"validationClasses"],["for","email"],["type","email","id","email","formControlName","email","name","email","placeholder","Email",1,"form-control",3,"validationClasses"],["for","confirmEmail"],["type","email","id","confirmEmail","formControlName","confirmEmail","name","confirmEmail","placeholder","Email",1,"form-control",3,"validationClasses"],["for","password"],["type","password","id","password","formControlName","password","name","password","placeholder","Introduce una contrase\xF1a",1,"form-control",3,"validationClasses"],["type","submit",1,"btn","btn-primary"],["src","assets/normal/normal_spaceship_register.png","alt","Login"],[1,"icon-large-container",2,"position","fixed","bottom","40px","left","0%"],["src","assets/normal/normal_spaceship_register.png","alt","Login Icon",2,"width","25rem","opacity","0.8"]],template:function(u,s){if(u&1){let C=L();t(0,"div",0)(1,"div",1)(2,"h5",2),n(3,"Crea tu nave"),e(),t(4,"form",3),V("ngSubmit",function(){return q(C),U(s.register())}),t(5,"div",4)(6,"label",5),n(7,"Nombre de usuario:"),e(),m(8,"input",6),g(9),p(10,W,2,0,"div",7)(11,X,2,0,"div",7),e(),t(12,"div",4)(13,"label",8),n(14,"Alias:"),e(),m(15,"input",9),g(16),p(17,Y,2,0,"div",7),e(),t(18,"div",4)(19,"label",10),n(20,"Email:"),e(),m(21,"input",11),g(22),p(23,Z,2,0,"div",7)(24,$,2,0,"div",7),e(),t(25,"div",4)(26,"label",12),n(27,"Repetir email:"),e(),m(28,"input",13),g(29),p(30,ee,2,0,"div",7)(31,ie,2,0,"div",7)(32,te,2,0,"div",7),e(),t(33,"div",4)(34,"label",14),n(35,"Contrase\xF1a:"),e(),m(36,"input",15),g(37),p(38,ne,2,0,"div",7)(39,re,2,0,"div",7),e(),t(40,"button",16),m(41,"img",17),n(42," Crear Nave "),e()()()(),t(43,"div",18),m(44,"img",19),e()}if(u&2){let C,x,F,S,N;r(4),d("formGroup",s.newUserForm),r(4),d("validationClasses",v(16,_));let E=(C=s.newUserForm.get("username"))==null?null:C.errors;r(2),o(E!=null&&E.required?10:-1),r(),o(E!=null&&E.minlength?11:-1),r(4),d("validationClasses",v(17,_));let y=(x=s.newUserForm.get("name"))==null?null:x.errors;r(2),o(y!=null&&y.required?17:-1),r(4),d("validationClasses",v(18,_));let b=(F=s.newUserForm.get("email"))==null?null:F.errors;r(2),o(b!=null&&b.required?23:-1),r(),o(b!=null&&b.email?24:-1),r(4),d("validationClasses",v(19,_));let c=(S=s.newUserForm.get("confirmEmail"))==null?null:S.errors;r(2),o(c!=null&&c.required?30:-1),r(),o(c!=null&&c.sameValue?31:-1),r(),o(c!=null&&c.email?32:-1),r(4),d("validationClasses",v(20,_));let w=(N=s.newUserForm.get("password"))==null?null:N.errors;r(2),o(w!=null&&w.required?38:-1),r(),o(w!=null&&w.minlength?39:-1)}},dependencies:[j,k,A,G,I,H,z,B,J],styles:[".card-body[_ngcontent-%COMP%]{z-index:1;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:.9;border-radius:1.5rem;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);font-size:.9rem;color:#fff;padding:2.5rem;width:26rem}.card-body[_ngcontent-%COMP%]   btn[_ngcontent-%COMP%]{align-items:center}"]})};export{Q as RegisterPageComponent};
