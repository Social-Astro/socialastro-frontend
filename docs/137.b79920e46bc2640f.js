"use strict";(self.webpackChunksocialastro_frontend=self.webpackChunksocialastro_frontend||[]).push([[137],{935:(R,P,l)=>{l.d(P,{$C:()=>B,vw:()=>j});var e=l(8434),a=l(1360),f=l(5779),x=l(3491),C=l(6263);const M=["icon"],s=["*"];function p(r,F){if(1&r&&a.nrm(0,"span",4),2&r){const m=a.XpG(2);a.Y8G("ngClass",m.icon)}}function O(r,F){if(1&r&&(a.qex(0),a.DNE(1,p,1,1,"span",3),a.bVm()),2&r){const m=a.XpG();a.R7$(),a.Y8G("ngIf",m.icon)}}function h(r,F){}function v(r,F){1&r&&a.DNE(0,h,0,0,"ng-template")}function u(r,F){if(1&r&&(a.j41(0,"span",5),a.DNE(1,v,1,0,null,6),a.k0s()),2&r){const m=a.XpG();a.R7$(),a.Y8G("ngTemplateOutlet",m.iconTemplate||m._iconTemplate)}}const $=({dt:r})=>`\n.p-tag {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    background: ${r("tag.primary.background")};\n    color: ${r("tag.primary.color")};\n    font-size: ${r("tag.font.size")};\n    font-weight: ${r("tag.font.weight")};\n    padding: ${r("tag.padding")};\n    border-radius: ${r("tag.border.radius")};\n    gap: ${r("tag.gap")};\n}\n\n.p-tag-icon {\n    font-size: ${r("tag.icon.size")};\n    width: ${r("tag.icon.size")};\n    height:${r("tag.icon.size")};\n}\n\n.p-tag-rounded {\n    border-radius: ${r("tag.rounded.border.radius")};\n}\n\n.p-tag-success {\n    background: ${r("tag.success.background")};\n    color: ${r("tag.success.color")};\n}\n\n.p-tag-info {\n    background: ${r("tag.info.background")};\n    color: ${r("tag.info.color")};\n}\n\n.p-tag-warn {\n    background: ${r("tag.warn.background")};\n    color: ${r("tag.warn.color")};\n}\n\n.p-tag-danger {\n    background: ${r("tag.danger.background")};\n    color: ${r("tag.danger.color")};\n}\n\n.p-tag-secondary {\n    background: ${r("tag.secondary.background")};\n    color: ${r("tag.secondary.color")};\n}\n\n.p-tag-contrast {\n    background: ${r("tag.contrast.background")};\n    color: ${r("tag.contrast.color")};\n}\n`,A={root:({props:r})=>["p-tag p-component",{"p-tag-info":"info"===r.severity,"p-tag-success":"success"===r.severity,"p-tag-warn":"warn"===r.severity,"p-tag-danger":"danger"===r.severity,"p-tag-secondary":"secondary"===r.severity,"p-tag-contrast":"contrast"===r.severity,"p-tag-rounded":r.rounded}],icon:"p-tag-icon",label:"p-tag-label"};let y=(()=>{class r extends C.j{name="tag";theme=$;classes=A;static \u0275fac=(()=>{let m;return function(g){return(m||(m=a.xGo(r)))(g||r)}})();static \u0275prov=a.jDH({token:r,factory:r.\u0275fac})}return r})(),j=(()=>{class r extends x.${get style(){return this._style}set style(m){this._style=m,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;iconTemplate;templates;_iconTemplate;_style;_componentStyle=(0,a.WQX)(y);ngAfterContentInit(){this.templates?.forEach(m=>{"icon"===m.getType()&&(this._iconTemplate=m.template)})}containerClass(){let m="p-tag p-component";return this.severity&&(m+=` p-tag-${this.severity}`),this.rounded&&(m+=" p-tag-rounded"),this.styleClass&&(m+=` ${this.styleClass}`),m}static \u0275fac=(()=>{let m;return function(g){return(m||(m=a.xGo(r)))(g||r)}})();static \u0275cmp=a.VBU({type:r,selectors:[["p-tag"]],contentQueries:function(_,g,w){if(1&_&&(a.wni(w,M,4),a.wni(w,f.Ei,4)),2&_){let k;a.mGM(k=a.lsd())&&(g.iconTemplate=k.first),a.mGM(k=a.lsd())&&(g.templates=k)}},hostVars:4,hostBindings:function(_,g){2&_&&(a.Aen(g.style),a.HbH(g.containerClass()))},inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",a.L39]},features:[a.Jv_([y]),a.Vt3],ngContentSelectors:s,decls:5,vars:3,consts:[[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-label"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(_,g){1&_&&(a.NAR(),a.SdG(0),a.DNE(1,O,2,1,"ng-container",0)(2,u,2,1,"span",1),a.j41(3,"span",2),a.EFF(4),a.k0s()),2&_&&(a.R7$(),a.Y8G("ngIf",!g.iconTemplate&&!g._iconTemplate),a.R7$(),a.Y8G("ngIf",g.iconTemplate||g._iconTemplate),a.R7$(2),a.JRh(g.value))},dependencies:[e.MD,e.YU,e.bT,e.T3,f.Gg],encapsulation:2,changeDetection:0})}return r})(),B=(()=>{class r{static \u0275fac=function(_){return new(_||r)};static \u0275mod=a.$C({type:r});static \u0275inj=a.G2t({imports:[j,f.Gg,f.Gg]})}return r})()},5428:(R,P,l)=>{l.d(P,{n:()=>s});var e=l(1360),a=l(4395),f=l(9079),x=l(9662),C=l(8434),M=l(935);let s=(()=>{class p{#e=(0,e.WQX)(a.v);#t=(0,e.WQX)(x.y);#n=(0,e.WQX)(e.abz);post=e.hFB.required();commentsResource=(0,f.ZX)({request:()=>this.post().id,loader:({request:h})=>this.#t.getCommentsByPost(h)});lastVisit=(0,e.EWP)(()=>this.commentsResource.value()?.comments.slice().sort((h,v)=>v.content.updatedAt.toString().localeCompare(h.content.updatedAt.toString()))[0]);deleted=(0,e.CGW)();constructor(){(0,e.QZP)(()=>{console.log(this.post())})}deletePost(){this.#e.deletePost(this.post().id).pipe((0,f.pQ)(this.#n)).subscribe({next:()=>{this.deleted.emit()},error:h=>console.log(h.error.message)})}static \u0275fac=function(v){return new(v||p)};static \u0275cmp=e.VBU({type:p,selectors:[["posts-card"]],inputs:{post:[1,"post"]},outputs:{deleted:"deleted"},decls:17,vars:11,consts:[[1,"posts","mb-3"],[1,"info"],[1,"mb-0","titulo"],[1,"desc","mb-0"],[1,"seccion"],["icon","pi pi-hashtag","severity","info",3,"value","rounded"],[1,"user"],[1,"extra"],[1,"mb-0"]],template:function(v,u){1&v&&(e.j41(0,"div",0)(1,"div",1)(2,"p",2),e.EFF(3),e.k0s(),e.j41(4,"p",3),e.EFF(5),e.k0s(),e.j41(6,"p",4),e.EFF(7),e.k0s(),e.nrm(8,"p-tag",5),e.k0s(),e.j41(9,"p",6),e.EFF(10),e.k0s(),e.j41(11,"div",7)(12,"p",8),e.EFF(13),e.k0s(),e.j41(14,"p"),e.EFF(15),e.nI1(16,"date"),e.k0s()()()),2&v&&(e.R7$(3),e.JRh(u.post().title),e.R7$(2),e.SpI("",u.post().content.description.substr(0,40),"..."),e.R7$(2),e.SpI("Sistema: ",u.post().section.title,""),e.R7$(),e.Y8G("value",u.post().tag)("rounded",!0),e.R7$(2),e.JRh(u.post().content.user.username),e.R7$(3),e.JRh(u.lastVisit()?u.lastVisit().content.user.username:u.post().content.user.username),e.R7$(2),e.SpI("",e.i5U(16,8,u.lastVisit()?u.lastVisit().content.updatedAt:u.post().content.updatedAt,"h:mm a - dd/MM/yyyy")," "))},dependencies:[C.vh,M.$C,M.vw],styles:['@charset "UTF-8";.fondo-card[_ngcontent-%COMP%]{border-radius:20px;padding:1.5rem;margin-bottom:1rem;opacity:.9;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff}@media (min-width: 1500px){.principal[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}.principal[_ngcontent-%COMP%]   .home[_ngcontent-%COMP%]{grid-column:1/3}}@media (max-width: 1500px){.principal[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media (max-width: 1500px) and (min-width: 1300px){.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;text-align:left}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:relative}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#c7b6c5;text-decoration:none}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background:linear-gradient(to left,#1c1635,#ab9ce0);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .4s ease-out}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   .post-aside[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:.2rem}.titulo-section-posts[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center}@media (max-width: 1200px){.titulo-section-posts[_ngcontent-%COMP%]   .terraformar[_ngcontent-%COMP%]{margin-top:.5rem;flex-grow:1}}.titulo-section-posts[_ngcontent-%COMP%]   .section-nombre[_ngcontent-%COMP%]{flex-grow:1;text-align:left;padding-left:1.5rem;align-self:center}.titulo-section-posts[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0d0032cc,#000c);color:#d6a3d6;height:fit-content}.titulo-section-posts[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#d6a3d6;opacity:.6}.header-info[_ngcontent-%COMP%]{display:flex;justify-content:center;background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff;border-radius:25px;padding-top:.7rem}.header-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{text-align:left;padding-left:1.5rem;flex-grow:1}.header-info[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{flex-grow:1;text-align:center}.header-info[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]{padding-right:1.5rem}@media (max-width: 1000px){.header-info[_ngcontent-%COMP%]{display:none}}a[_ngcontent-%COMP%]{text-decoration:none}  .p-paginator{background:transparent;padding:10px;border-radius:8px}.go-back[_ngcontent-%COMP%]{width:fit-content;padding:.4rem;border-radius:50px;background-color:#5fa35f}.go-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{align-self:center}.posts[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#8e6ee6cc,#0000);margin:.3rem;border-radius:25px;height:fit-content;font-size:small;padding:1rem;color:#b1b1b1}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{text-align:left}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-weight:700}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{text-indent:.3rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.posts[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .posts[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]{text-align:right}.posts[_ngcontent-%COMP%]:hover{filter:brightness(1.75)}@media (min-width: 1000px){.posts[_ngcontent-%COMP%]{display:flex}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex-grow:1}.posts[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{flex-grow:1;text-align:center}}@media (max-width: 1000px){.user[_ngcontent-%COMP%]:before{font-weight:700;content:"Astronauta: "}.extra[_ngcontent-%COMP%]:before{font-weight:700;content:"\\daltima interacci\\f3n: "}}@media (max-width: 768px){.posts[_ngcontent-%COMP%]{display:flex;flex-direction:column}.posts[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.info){text-align:right}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:.8rem}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]{order:-1}.posts[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{margin-bottom:0}}']})}return p})()},9137:(R,P,l)=>{l.r(P),l.d(P,{ProfileComponent:()=>te});var e=l(1360),a=l(3165),f=l(1626),x=l(5270);let C=(()=>{class n{#e=(0,e.WQX)(a.Qq);#t=(0,e.vPA)(void 0);userSelected=(0,f.fx)(()=>`users/${this.#t()||"me"}`,{parse:x.a});setCurrentUser(t){this.#t.set(t)}saveUserProfile(t){return this.#e.put("users/me",t)}saveUserPassword(t){return this.#e.put("users/me/password",t)}saveUserEmail(t){return this.#e.put("users/me/email",t)}saveUserAvatar(t){return this.#e.put("users/me/avatar",t)}saveUserHeader(t){return this.#e.put("users/me/header",t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var M=l(467),s=l(4341),p=l(6864);function O(n,d){if(1&n){const t=e.RV6();e.j41(0,"form",3)(1,"div",5)(2,"label"),e.EFF(3,"Nombre"),e.k0s(),e.nrm(4,"input",6),e.k0s(),e.j41(5,"div",5)(6,"label"),e.EFF(7,"Bio"),e.k0s(),e.nrm(8,"input",7),e.k0s(),e.j41(9,"button",8),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.changeUser())}),e.EFF(10,"Guardar"),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.changeUserForm),e.R7$(9),e.Y8G("disabled",t.changeUserForm.invalid)}}function h(n,d){if(1&n){const t=e.RV6();e.j41(0,"form",4)(1,"div",5)(2,"label"),e.EFF(3,"Email"),e.k0s(),e.nrm(4,"input",9),e.k0s(),e.j41(5,"div",5)(6,"label"),e.EFF(7,"Repite email"),e.k0s(),e.nrm(8,"input",10),e.k0s(),e.j41(9,"button",8),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.changeEmail())}),e.EFF(10,"Cambiar email"),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.changeEmailForm),e.R7$(9),e.Y8G("disabled",t.changeEmailForm.invalid)}}function v(n,d){if(1&n){const t=e.RV6();e.j41(0,"form",4)(1,"div",5)(2,"label"),e.EFF(3,"Nueva contrase\xf1a"),e.k0s(),e.nrm(4,"input",11),e.k0s(),e.j41(5,"div",5)(6,"label"),e.EFF(7,"Repite contrase\xf1a"),e.k0s(),e.nrm(8,"input",12),e.k0s(),e.j41(9,"button",8),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.changePassword())}),e.EFF(10,"Cambiar contrase\xf1a"),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.changePasswordForm),e.R7$(9),e.Y8G("disabled",t.changePasswordForm.invalid)}}function u(n,d){if(1&n&&(e.j41(0,"div",15),e.nrm(1,"img",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("src",t.avatarBase64Arr()[0],e.B4B)}}function $(n,d){if(1&n){const t=e.RV6();e.j41(0,"form",13),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.changeAvatar())}),e.j41(1,"div",5)(2,"label"),e.EFF(3,"Nuevo avatar"),e.k0s(),e.j41(4,"input",14),e.bIt("change",function(o){e.eBV(t);const c=e.XpG();return e.Njj(c.onAvatarFileChange(o))}),e.k0s(),e.DNE(5,u,2,1,"div",15),e.k0s(),e.j41(6,"button",16),e.EFF(7,"Guardar avatar"),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.changeAvatarForm),e.R7$(5),e.vxM(t.avatarBase64Arr().length>0?5:-1),e.R7$(),e.Y8G("disabled",t.changeAvatarForm.invalid||!t.avatarBase64Arr().length)}}function A(n,d){if(1&n&&(e.j41(0,"div",15),e.nrm(1,"img",18),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("src",t.headerBase64Arr()[0],e.B4B)}}function y(n,d){if(1&n){const t=e.RV6();e.j41(0,"form",13),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.changeHeader())}),e.j41(1,"div",5)(2,"label"),e.EFF(3,"Nueva portada"),e.k0s(),e.j41(4,"input",14),e.bIt("change",function(o){e.eBV(t);const c=e.XpG();return e.Njj(c.onHeaderFileChange(o))}),e.k0s(),e.DNE(5,A,2,1,"div",15),e.k0s(),e.j41(6,"button",16),e.EFF(7,"Guardar portada"),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("formGroup",t.changeHeaderForm),e.R7$(5),e.vxM(t.headerBase64Arr().length>0?5:-1),e.R7$(),e.Y8G("disabled",t.changeHeaderForm.invalid||!t.headerBase64Arr().length)}}let T=(()=>{class n{profileService=(0,e.WQX)(C);userResource=this.profileService.userSelected;user=this.userResource.value;id=e.hFB.required({transform:e.Udg});avatarBase64Arr=(0,e.vPA)([]);headerBase64Arr=(0,e.vPA)([]);changeUserForm=new s.gE({name:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]}),bio:new s.MJ("",{nonNullable:!0,validators:[s.k0.required]})});changeEmailForm=new s.gE({email:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.email]}),email2:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.email,(0,p.e)("email","email2")]})});changePasswordForm=new s.gE({password:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.minLength(4)]}),password2:new s.MJ("",{nonNullable:!0,validators:[s.k0.required,s.k0.minLength(4),(0,p.e)("password","password2")]})});changeAvatarForm=new s.gE({avatar:new s.MJ(null,{nonNullable:!0,validators:[s.k0.required]})});changeHeaderForm=new s.gE({heading:new s.MJ(null,{nonNullable:!0,validators:[s.k0.required]})});showUserForm=!1;showEmailForm=!1;showPasswordForm=!1;showAvatarForm=!1;showHeaderForm=!1;cdr=(0,e.WQX)(e.gRc);changeUser(){this.changeUserForm.valid&&this.profileService.saveUserProfile({name:this.changeUserForm.value.name,bio:this.changeUserForm.value.bio,updatedAt:new Date}).subscribe({next:()=>{this.userResource.reload(),this.showUserForm=!1,this.cdr.detectChanges()},error:i=>console.error("User error:",i)})}changeEmail(){this.changeEmailForm.valid&&this.profileService.saveUserEmail({email:this.changeEmailForm.value.email}).subscribe({next:()=>{this.userResource.reload(),this.showEmailForm=!1,this.cdr.detectChanges()},error:i=>console.error("Email error:",i)})}changePassword(){this.changePasswordForm.valid&&this.profileService.saveUserPassword({password:this.changePasswordForm.value.password}).subscribe({next:()=>{console.log("Password changed successfully"),this.showPasswordForm=!1,this.cdr.detectChanges()},error:i=>console.error("Password error:",i)})}onAvatarFileChange(t){var i=this;return(0,M.A)(function*(){const o=t.target;if(!o.files||0===o.files.length)return;const c=[];for(const b of Array.from(o.files)){i.changeAvatarForm.get("avatar").setValue(b);const E=yield i.fileToBase64(b);console.log("Base64:",E?.slice(0,30)),c.push(E)}i.avatarBase64Arr.set(c)})()}onHeaderFileChange(t){var i=this;return(0,M.A)(function*(){const o=t.target;if(!o.files||0===o.files.length)return;const c=[];for(const b of Array.from(o.files)){i.changeHeaderForm.get("heading").setValue(b);const E=yield i.fileToBase64(b);console.log("Header Base64:",E?.slice(0,30)),c.push(E)}i.headerBase64Arr.set(c)})()}fileToBase64(t){return new Promise((i,o)=>{const c=new FileReader;c.onload=()=>i(c.result),c.onerror=o,c.readAsDataURL(t)})}changeAvatar(){if(!this.changeAvatarForm.valid||!this.avatarBase64Arr().length)return;const t={avatar:this.avatarBase64Arr()[0]};this.profileService.saveUserAvatar(t).subscribe({next:()=>{this.userResource.reload(),this.avatarBase64Arr.set([]),this.changeAvatarForm.reset(),this.showAvatarForm=!1,this.cdr.detectChanges()},error:i=>console.error("Avatar error:",i)})}changeHeader(){if(!this.changeHeaderForm.valid||!this.headerBase64Arr().length)return;const t={heading:this.headerBase64Arr()[0]};this.profileService.saveUserHeader(t).subscribe({next:()=>{this.userResource.reload(),this.headerBase64Arr.set([]),this.changeHeaderForm.reset(),this.showHeaderForm=!1,this.cdr.detectChanges()},error:i=>console.error("Header error:",i)})}preloadEditFields(){const t=this.userResource.value();t&&(this.changeUserForm.patchValue({name:t.name||"",bio:t.bio||""}),this.changeEmailForm.patchValue({email:t.email||"",email2:t.email||""}))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["profile-edit"]],inputs:{id:[1,"id"]},decls:32,vars:15,consts:[[1,"profile-edit-panel"],[1,"profile-edit-accordion"],[1,"accordion-toggle",3,"click"],[1,"edit-form",3,"formGroup"],[1,"edit-form","mt-3",3,"formGroup"],[1,"mb-3"],["type","text","formControlName","name",1,"form-control","input"],["type","text","formControlName","bio",1,"form-control","input"],["type","submit",1,"btn","btn-primary",3,"click","disabled"],["type","email","formControlName","email",1,"form-control","input"],["type","email","formControlName","email2",1,"form-control","input"],["type","password","formControlName","password",1,"form-control","input"],["type","password","formControlName","password2",1,"form-control","input"],[1,"edit-form","mt-3",3,"ngSubmit","formGroup"],["type","file",1,"form-control","input",3,"change"],[1,"img-preview-container"],["type","submit",1,"btn","btn-primary",3,"disabled"],["alt","Avatar preview",1,"img-preview",3,"src"],["alt","Header preview",1,"img-preview","header-preview",3,"src"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.bIt("click",function(){return o.showUserForm=!o.showUserForm}),e.j41(3,"span"),e.EFF(4,"Editar datos"),e.k0s(),e.j41(5,"span"),e.EFF(6,"\u25bc"),e.k0s()(),e.DNE(7,O,11,2,"form",3),e.k0s(),e.j41(8,"button",2),e.bIt("click",function(){return o.showEmailForm=!o.showEmailForm}),e.j41(9,"span"),e.EFF(10,"Cambiar email"),e.k0s(),e.j41(11,"span"),e.EFF(12,"\u25bc"),e.k0s()(),e.DNE(13,h,11,2,"form",4),e.j41(14,"button",2),e.bIt("click",function(){return o.showPasswordForm=!o.showPasswordForm}),e.j41(15,"span"),e.EFF(16,"Cambiar contrase\xf1a"),e.k0s(),e.j41(17,"span"),e.EFF(18,"\u25bc"),e.k0s()(),e.DNE(19,v,11,2,"form",4),e.j41(20,"button",2),e.bIt("click",function(){return o.showAvatarForm=!o.showAvatarForm}),e.j41(21,"span"),e.EFF(22,"Cambiar avatar"),e.k0s(),e.j41(23,"span"),e.EFF(24,"\u25bc"),e.k0s()(),e.DNE(25,$,8,3,"form",4),e.j41(26,"button",2),e.bIt("click",function(){return o.showHeaderForm=!o.showHeaderForm}),e.j41(27,"span"),e.EFF(28,"Cambiar portada"),e.k0s(),e.j41(29,"span"),e.EFF(30,"\u25bc"),e.k0s()(),e.DNE(31,y,8,3,"form",4),e.k0s()),2&i&&(e.R7$(5),e.AVh("rotated",o.showUserForm),e.R7$(2),e.vxM(o.showUserForm?7:-1),e.R7$(4),e.AVh("rotated",o.showEmailForm),e.R7$(2),e.vxM(o.showEmailForm?13:-1),e.R7$(4),e.AVh("rotated",o.showPasswordForm),e.R7$(2),e.vxM(o.showPasswordForm?19:-1),e.R7$(4),e.AVh("rotated",o.showAvatarForm),e.R7$(2),e.vxM(o.showAvatarForm?25:-1),e.R7$(4),e.AVh("rotated",o.showHeaderForm),e.R7$(2),e.vxM(o.showHeaderForm?31:-1))},dependencies:[s.YN,s.qT,s.me,s.BC,s.cb,s.X1,s.j4,s.JD],styles:[".profile-edit-panel[_ngcontent-%COMP%]{background:#f8f6ff;border-radius:.7rem;box-shadow:0 1px 8px #6c2eb721;padding:2rem 1.5rem 1.5rem;max-width:370px;min-width:300px;display:flex;flex-direction:column;gap:1.2rem}.edit-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.7rem}.edit-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#6c2eb7;margin-bottom:.2rem}.input[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{border-radius:.3rem;border:1px solid #d1c4e9;padding:.4rem .7rem;font-size:1rem;background:#fff;color:#222}.btn.btn-primary[_ngcontent-%COMP%]{background:#6c2eb7;color:#fff;border:none;border-radius:.3rem;padding:.5rem 1.2rem;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s}.btn.btn-primary[_ngcontent-%COMP%]:disabled{background:#b39ddb;cursor:not-allowed}.img-preview-container[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;justify-content:center}.img-preview[_ngcontent-%COMP%]{max-width:90px;max-height:90px;border-radius:.5rem;box-shadow:0 1px 4px #6c2eb721}.header-preview[_ngcontent-%COMP%]{max-width:180px;max-height:60px;border-radius:.5rem}@media (max-width: 1100px){.profile-edit-panel[_ngcontent-%COMP%]{padding:1.2rem .7rem}}@media (max-width: 900px){.profile-edit-panel[_ngcontent-%COMP%]{min-width:100%;max-width:100%;margin-left:0;margin-top:1.5rem}}.profile-edit-accordion[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}.accordion-item[_ngcontent-%COMP%]{background:#f8f6ff;border-radius:.5rem;box-shadow:0 1px 6px #6c2eb71a;padding:.7rem 1rem 1rem}.accordion-toggle[_ngcontent-%COMP%]{width:100%;background:none;border:none;outline:none;font-size:1.08rem;font-weight:600;color:#6c2eb7;display:flex;align-items:center;justify-content:space-between;cursor:pointer;padding:.5rem 0;transition:color .2s}.accordion-toggle[_ngcontent-%COMP%]:hover{color:#4d1d8d}.accordion-toggle[_ngcontent-%COMP%]   span.rotated[_ngcontent-%COMP%]{display:inline-block;transform:rotate(180deg);transition:transform .2s}.edit-form[_ngcontent-%COMP%]{margin-top:.7rem}"]})}return n})();var j=l(3767);const B=(n,d)=>d.id;function r(n,d){if(1&n&&(e.j41(0,"div",1),e.nrm(1,"img",2),e.EFF(2),e.k0s()),2&n){const t=d.$implicit;e.R7$(),e.Y8G("src",t.icon,e.B4B),e.R7$(),e.SpI(" ",t.name," ")}}function F(n,d){if(1&n&&(e.j41(0,"div",0),e.Z7z(1,r,3,2,"div",1,B),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Dyx(t.achievements())}}function m(n,d){1&n&&(e.j41(0,"span"),e.EFF(1,"No tienes logros a\xfan."),e.k0s())}let _=(()=>{class n{achievements=e.hFB.required();static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["profile-achievements"]],inputs:{achievements:[1,"achievements"]},decls:2,vars:1,consts:[[1,"achievements-list"],[1,"achievement-badge"],["alt","icono logro",1,"achievements-icon",3,"src"]],template:function(i,o){1&i&&e.DNE(0,F,3,0,"div",0)(1,m,2,0,"span"),2&i&&e.vxM(o.achievements().length?0:1)},styles:[".achievements-icon[_ngcontent-%COMP%]{width:38px;height:38px;min-width:38px;min-height:38px;max-width:38px;max-height:38px;margin-right:.5rem;object-fit:contain}"]})}return n})();var g=l(8434),w=l(33);const k=n=>["/profile",n],G=(n,d)=>d.id;function D(n,d){if(1&n&&(e.j41(0,"div",0),e.EFF(1),e.j41(2,"a",1),e.nrm(3,"img",2),e.k0s()()),2&n){const t=d.$implicit;e.R7$(),e.SpI(" ",t.name," "),e.R7$(),e.Y8G("routerLink",e.eq3(2,k,t.id))}}function U(n,d){if(1&n&&e.Z7z(0,D,4,4,"div",0,G),2&n){const t=e.XpG();e.Dyx(t.friends())}}function I(n,d){1&n&&(e.j41(0,"div",0),e.EFF(1,"No hay alien\xedgenas amigos a\xfan."),e.k0s())}let S=(()=>{class n{friends=e.hFB.required();static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["profile-friends"]],inputs:{friends:[1,"friends"]},decls:2,vars:1,consts:[[1,"profile-friend"],["title","Ver perfil",1,"friend-link",3,"routerLink"],["src","assets/normal/normal_ufo_do_friends.png","alt","Ver perfil",2,"cursor","pointer","width","24px","height","24px"]],template:function(i,o){1&i&&e.DNE(0,U,2,0)(1,I,2,0,"div",0),2&i&&e.vxM(o.friends().length?0:1)},dependencies:[g.MD,w.iI,w.Wk],encapsulation:2})}return n})();var N=l(5428);const V=n=>["/home/posts",n],X=(n,d)=>d.id;function z(n,d){if(1&n&&(e.j41(0,"a",0),e.nrm(1,"posts-card",1),e.k0s()),2&n){const t=d.$implicit;e.Y8G("routerLink",e.eq3(2,V,t.id)),e.R7$(),e.Y8G("post",t)}}function W(n,d){if(1&n&&e.Z7z(0,z,2,4,"a",0,X),2&n){const t=e.XpG();e.Dyx(t.posts())}}function H(n,d){1&n&&(e.j41(0,"span"),e.EFF(1,"No tienes posts a\xfan."),e.k0s())}let Y=(()=>{class n{posts=e.hFB.required();static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["profile-posts"]],inputs:{posts:[1,"posts"]},decls:2,vars:1,consts:[[2,"text-decoration","none","color","inherit",3,"routerLink"],[3,"post"]],template:function(i,o){1&i&&e.DNE(0,W,2,0)(1,H,2,0,"span"),2&i&&e.vxM(o.posts().length?0:1)},dependencies:[N.n,w.iI,w.Wk],encapsulation:2})}return n})();var L=l(4395);let Q=(()=>{class n{#e=(0,e.WQX)(a.Qq);getAll(){return this.#e.get("friends")}getById(t,i){return this.#e.get(`friends/${t}/${i}`)}getUserWithFriends(t){return this.#e.get(`friends/user/${t}`)}create(t){return this.#e.post("friends",t)}delete(t,i){return this.#e.delete(`friends/${t}/${i}`)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function J(n,d){if(1&n&&(e.j41(0,"div",15)(1,"div",17),e.EFF(2,"Logros"),e.k0s(),e.nrm(3,"profile-achievements",18),e.k0s()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("achievements",t.userAchievements())}}function K(n,d){if(1&n&&(e.j41(0,"div",15)(1,"div",17),e.EFF(2,"Amigos"),e.k0s(),e.nrm(3,"profile-friends",19),e.k0s()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("friends",t.realFriends())}}function Z(n,d){if(1&n&&(e.j41(0,"div",15)(1,"div",17),e.EFF(2,"Posts"),e.k0s(),e.nrm(3,"profile-posts",20),e.k0s()),2&n){const t=e.XpG();e.R7$(3),e.Y8G("posts",t.userPosts())}}function q(n,d){if(1&n&&e.nrm(0,"profile-edit",22),2&n){e.XpG(2);const t=e.r8f(0);e.Y8G("id",null==t?null:t.id)}}function ee(n,d){if(1&n){const t=e.RV6();e.j41(0,"div",16)(1,"button",21),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.setEditMode(!o.editMode()))}),e.EFF(2),e.k0s(),e.DNE(3,q,1,1,"profile-edit",22),e.k0s()}if(2&n){const t=e.XpG();e.R7$(2),e.SpI(" ",t.editMode()?"Cancelar edici\xf3n":"Editar perfil"," "),e.R7$(),e.vxM(t.editMode()?3:-1)}}let te=(()=>{class n{userId=e.hFB.required({transform:e.Udg});profileService=(0,e.WQX)(C);authService=(0,e.WQX)(j.u);postsService=(0,e.WQX)(L.v);friendService=(0,e.WQX)(Q);userResource=this.profileService.userSelected;user=this.userResource.value;editMode=(0,e.vPA)(!1);editPasswordMode=(0,e.vPA)(!1);canEdit=(0,e.vPA)(!1);userPosts=(0,e.vPA)([]);realFriends=(0,e.vPA)([]);activeSection=(0,e.vPA)(null);userFriends=(0,e.EWP)(()=>this.userResource.value()?.friends??[]);userAchievements=(0,e.EWP)(()=>this.userResource.value()?.achievements??[]);constructor(){console.log("ProfileComponent initialized with userId:"),(0,e.QZP)(()=>{this.profileService.setCurrentUser(this.userId())}),(0,e.QZP)(()=>{const t=this.authService.currentUser.value(),i=this.userResource.value();if(!t||!i)return void this.canEdit.set(!1);const o=t.role.toUpperCase();this.canEdit.set(t.id===i.id||"ADMIN"===o)}),(0,e.QZP)(()=>{let t;if("posts"===this.activeSection()){const i=this.userResource.value()?.id;"number"==typeof i?t=this.postsService.getPostsByUser(i).subscribe({next:o=>this.userPosts.set(o.posts),error:()=>this.userPosts.set([])}):this.userPosts.set([])}return()=>{t&&t.unsubscribe()}}),(0,e.QZP)(()=>{let t;if("friends"===this.activeSection()){const i=this.userResource.value()?.id;"number"==typeof i?t=this.friendService.getUserWithFriends(i).subscribe({next:o=>this.realFriends.set(o.friends??o??[]),error:()=>this.realFriends.set([])}):this.realFriends.set([])}return()=>{t&&t.unsubscribe()}})}changeEditMode(){this.editMode.update(t=>!t)}changePasswordMode(){this.editPasswordMode.update(t=>!t)}headerBackgroundStyle=(0,e.EWP)(()=>{const t=this.userResource.value;return t()?.heading?{"background-image":`url(${t()?.heading})`}:{}});setEditMode(t){this.editMode.set(t),t||this.editPasswordMode.set(!1)}setActiveSection(t){this.activeSection.set(this.activeSection()===t?null:t)}get isAdmin(){const t=this.authService.currentUser.value();return t&&"ADMIN"===t.role}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["profile"]],inputs:{userId:[1,"userId"]},decls:46,vars:21,consts:[[1,"profile-container"],[1,"profile-header"],["alt","Header Image",1,"profile-header",3,"src"],[1,"profile-avatar-container"],["alt","Avatar",1,"profile-avatar",3,"src"],[1,"profile-dashboard"],[1,"profile-main-content"],[1,"profile-info"],[1,"profile-stats"],[1,"stat"],[1,"stat-value"],[1,"stat-label"],[1,"profile-section-buttons"],[3,"click"],[1,"profile-sections"],[1,"profile-card","profile-card-active"],[1,"profile-edit-panel"],[1,"card-title"],[3,"achievements"],[3,"friends"],[3,"posts"],[1,"edit-main-btn",3,"click"],[3,"id"]],template:function(i,o){if(1&i){const c=e.RV6();e.SS7(0),e.j41(1,"div",0)(2,"div",1),e.nrm(3,"img",2),e.k0s(),e.j41(4,"div",3),e.nrm(5,"img",4),e.k0s(),e.j41(6,"div",5)(7,"div",6)(8,"div",7)(9,"h2"),e.EFF(10),e.k0s(),e.j41(11,"p"),e.EFF(12),e.k0s()(),e.j41(13,"div",8)(14,"div",9)(15,"span",10),e.EFF(16),e.k0s(),e.j41(17,"span",11),e.EFF(18,"Posts"),e.k0s()(),e.j41(19,"div",9)(20,"span",10),e.EFF(21),e.k0s(),e.j41(22,"span",11),e.EFF(23,"Amigos"),e.k0s()(),e.j41(24,"div",9)(25,"span",10),e.EFF(26),e.k0s(),e.j41(27,"span",11),e.EFF(28,"Likes"),e.k0s()(),e.j41(29,"div",9)(30,"span",10),e.EFF(31),e.k0s(),e.j41(32,"span",11),e.EFF(33,"Logros"),e.k0s()()(),e.j41(34,"div",12)(35,"button",13),e.bIt("click",function(){return e.eBV(c),e.Njj(o.setActiveSection("posts"))}),e.EFF(36,"Posts"),e.k0s(),e.j41(37,"button",13),e.bIt("click",function(){return e.eBV(c),e.Njj(o.setActiveSection("friends"))}),e.EFF(38,"Amigos"),e.k0s(),e.j41(39,"button",13),e.bIt("click",function(){return e.eBV(c),e.Njj(o.setActiveSection("achievements"))}),e.EFF(40,"Logros"),e.k0s()(),e.j41(41,"div",14),e.DNE(42,J,4,1,"div",15)(43,K,4,1,"div",15)(44,Z,4,1,"div",15),e.k0s()(),e.DNE(45,ee,4,2,"div",16),e.k0s()()}if(2&i){const c=e.bH3(o.userResource.value());e.R7$(3),e.Y8G("src",c&&c.heading?c.heading:"assets/default-header.jpg",e.B4B),e.R7$(2),e.Y8G("src",c&&c.avatar?c.avatar:"assets/default-avatar.png",e.B4B),e.R7$(),e.AVh("edit-mode",o.editMode()),e.R7$(4),e.JRh(null==c?null:c.name),e.R7$(2),e.JRh(null==c?null:c.bio),e.R7$(4),e.JRh((null==c?null:c.numPosts)||0),e.R7$(5),e.JRh((null==c?null:c.numFriends)||0),e.R7$(5),e.JRh((null==c?null:c.numLikes)||0),e.R7$(5),e.JRh((null==c?null:c.numAchievements)||0),e.R7$(4),e.AVh("active","posts"===o.activeSection()),e.R7$(2),e.AVh("active","friends"===o.activeSection()),e.R7$(2),e.AVh("active","achievements"===o.activeSection()),e.R7$(3),e.vxM("achievements"===o.activeSection()?42:-1),e.R7$(),e.vxM("friends"===o.activeSection()?43:-1),e.R7$(),e.vxM("posts"===o.activeSection()?44:-1),e.R7$(),e.vxM(o.canEdit()?45:-1)}},dependencies:[T,_,S,Y],styles:[".profile-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:2.5rem auto 0;display:flex;flex-direction:column;align-items:stretch;position:relative}.profile-header[_ngcontent-%COMP%]{position:relative;width:100%;max-width:1200px;height:500px;font-family:Roboto,sans-serif;background:none;border-radius:1rem 1rem 0 0;overflow:hidden;display:flex;align-items:flex-end;justify-content:flex-start;padding:0;box-shadow:0 4px 16px #0003;transition:background-image .3s ease-in-out;margin:0 auto 16px}.profile-header[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;border-radius:1rem 1rem 0 0;z-index:1;box-shadow:none}.profile-avatar-container[_ngcontent-%COMP%]{position:absolute;left:50px;top:420px;bottom:0;z-index:20;display:flex;flex-direction:column;align-items:center;pointer-events:auto;width:120px;height:120px}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;border:4px solid #fff;box-shadow:0 4px 16px #00000040;background:#b37fb3;object-fit:cover;transition:transform .2s;margin-bottom:.5rem;z-index:21}.profile-avatar[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.profile-avatar[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{background:#1b7a1b!important;color:#fff!important;border-radius:20px;padding:.2rem 1rem;font-size:.9rem;cursor:pointer;transition:background .2s,box-shadow .2s}.profile-avatar[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover{background:#a3d6a3!important}.profile-avatar[_ngcontent-%COMP%]   .header-btn[_ngcontent-%COMP%]{position:absolute;right:2rem;bottom:1rem}.profile-dashboard[_ngcontent-%COMP%]{background:#141428d9;border-radius:0 0 1rem 1rem;box-shadow:0 2px 16px #0000002e;margin:0 auto;padding-top:90px;width:100%;max-width:1200px;min-height:600px;padding:2.5rem 3rem 2rem;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;position:relative}@media (min-width: 1200px){.profile-dashboard[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 900px){.profile-dashboard[_ngcontent-%COMP%]{flex-direction:column;align-items:center;padding:1rem .5rem;min-width:0;max-width:100vw}}.profile-main-content[_ngcontent-%COMP%]{flex:2 1 0;display:flex;flex-direction:column;align-items:center}@media (max-width: 900px){.profile-main-content[_ngcontent-%COMP%]{width:100%;min-width:0;align-items:center;padding:0}}.profile-edit-panel[_ngcontent-%COMP%]{flex:1 1 320px;max-width:370px;min-width:300px;margin-left:2.5rem;background:#9fc39f;border-radius:.7rem;box-shadow:0 1px 4px #6c2eb71a;padding:2rem 1.5rem 1.5rem;position:relative;top:0}@media (max-width: 1100px){.profile-edit-panel[_ngcontent-%COMP%]{margin-left:1rem;padding:1.2rem .7rem}}@media (max-width: 900px){.profile-edit-panel[_ngcontent-%COMP%]{width:100%;max-width:100vw;margin-left:0;margin-top:1.5rem;padding:1rem .5rem;box-sizing:border-box}}.profile-stats[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;margin-bottom:1.5rem;margin-top:1.5rem}.profile-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:#9fc39f;border-radius:.7rem;box-shadow:0 1px 4px #6c2eb71a;padding:.7rem 1.2rem;min-width:80px}.profile-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#7a1b7a}.profile-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#888}@media (max-width: 900px){.profile-stats[_ngcontent-%COMP%]{flex-wrap:wrap;gap:1rem}}.profile-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.profile-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.2rem;color:#6c2eb7}.profile-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#888;margin-bottom:.5rem}.profile-info[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{margin:.2rem .5rem}.profile-sections[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;gap:2rem;justify-content:center;margin-bottom:2rem}@media (max-width: 900px){.profile-sections[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;align-items:center;width:100%}}.profile-card[_ngcontent-%COMP%]{border-radius:1rem;box-shadow:0 2px 12px #6c2eb71a;font-family:Roboto,sans-serif;color:#222;padding:2rem 2.2rem;min-width:280px;max-width:400px;flex:1 1 280px;display:flex;flex-direction:column;align-items:flex-start}.profile-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#7a1b7a;font-weight:700;font-size:1.25rem;margin-bottom:.9rem}@media (max-width: 900px){.profile-card[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:100vw;padding:1.2rem .7rem;box-sizing:border-box}}.profile-card-active[_ngcontent-%COMP%]{background:#9fc39f!important;color:#222!important;border:2px solid #6c2eb7;box-shadow:0 4px 24px #6c2eb71a;font-size:1.08rem;font-family:Roboto,sans-serif;transition:background .2s,color .2s;min-height:180px;padding:2.5rem 2.5rem 2rem;margin-bottom:1.5rem;border-radius:1.2rem}.profile-card-active[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{color:#6c2eb7!important;font-size:1.25rem;font-weight:700;margin-bottom:1.2rem}.achievements-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.7rem}.achievements-list[_ngcontent-%COMP%]   .achievement-badge[_ngcontent-%COMP%]{display:flex;align-items:center;background:#9fc39f;border-radius:1.5rem;padding:.3rem .9rem .3rem .5rem;box-shadow:0 1px 4px #6c2eb714;font-size:.95rem;color:#6c2eb7;font-weight:500}.edit-btn[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%], .header-btn[_ngcontent-%COMP%]{display:none}.profile-dashboard.edit-mode[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%], .profile-dashboard.edit-mode[_ngcontent-%COMP%]   .edit-form[_ngcontent-%COMP%], .profile-dashboard.edit-mode[_ngcontent-%COMP%]   .header-btn[_ngcontent-%COMP%]{display:initial}.edit-main-btn[_ngcontent-%COMP%]{display:block;margin:0 auto 1.5rem;background:#6c2eb7!important;color:#fff!important;border-radius:.4rem;font-weight:700;padding:.5rem 1.2rem;font-size:1rem;cursor:pointer;transition:background .2s}.edit-main-btn[_ngcontent-%COMP%]:hover{background:#a3d6a3!important}.profile-section-buttons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1.5rem;margin-bottom:1.2rem}.profile-section-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#9fc39f;color:#6c2eb7;border:2px solid #6c2eb7;border-radius:1.5rem;padding:.4rem 1.5rem;font-size:1rem;font-weight:600;cursor:pointer;transition:background .2s,color .2s}.profile-section-buttons[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .profile-section-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#6c2eb7;color:#fff}@media (max-width: 900px){.profile-section-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:.7rem;width:100%;align-items:center;justify-content:center}.profile-section-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto;flex:1 1 0;min-width:0;margin:0}}.profile-section-content[_ngcontent-%COMP%]{width:100%;margin-bottom:2rem;display:flex;justify-content:center;align-items:flex-start}@media (max-width: 900px){.profile-section-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;width:100%;padding:0}}.profile-friend[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;font-size:1.08rem;color:#333;margin-bottom:.5rem}.profile-friend[_ngcontent-%COMP%]   .friend-link[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:.3rem;color:#6c2eb7;background:#9fc39f;border-radius:50%;width:2rem;height:2rem;justify-content:center;transition:background .2s,color .2s;text-decoration:none;font-size:1.5rem}.profile-friend[_ngcontent-%COMP%]   .friend-link[_ngcontent-%COMP%]:hover{background:#6c2eb7;color:#fff}.profile-friend[_ngcontent-%COMP%]   .friend-link[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.4rem}@media (max-width: 900px){.profile-dashboard[_ngcontent-%COMP%]{flex-direction:column;align-items:center;padding:1rem .5rem;min-width:0;max-width:100vw}.profile-main-content[_ngcontent-%COMP%]{width:100%;min-width:0;align-items:center;padding:0}.profile-edit-panel[_ngcontent-%COMP%]{width:100%;max-width:100vw;margin-left:0;margin-top:1.5rem;min-width:0;padding:1rem .5rem;box-sizing:border-box}.profile-stats[_ngcontent-%COMP%]{flex-wrap:wrap;gap:1rem}.profile-sections[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;align-items:center;width:100%}.profile-card[_ngcontent-%COMP%], .profile-card-active[_ngcontent-%COMP%]{min-width:0;width:100%;max-width:100vw;padding:1.2rem .7rem;box-sizing:border-box}.profile-section-buttons[_ngcontent-%COMP%]{flex-direction:row;gap:.7rem;width:100%;align-items:center;justify-content:center}.profile-section-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:auto;flex:1 1 0;min-width:0;margin:0}.profile-section-content[_ngcontent-%COMP%]{flex-direction:column;align-items:center;width:100%;padding:0}.profile-card[_ngcontent-%COMP%]   .post-card[_ngcontent-%COMP%]{width:100%!important;min-width:0!important;max-width:100%!important;margin:0!important;box-sizing:border-box}.profile-avatar-container[_ngcontent-%COMP%]{left:50%;top:370px;transform:translate(-50%);width:90px;height:90px}.profile-avatar[_ngcontent-%COMP%]{width:90px;height:90px}}@media (max-width: 600px){.profile-dashboard[_ngcontent-%COMP%]{padding:.5rem .2rem}.profile-edit-panel[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%], .profile-card-active[_ngcontent-%COMP%]{padding:.7rem .2rem}.profile-avatar-container[_ngcontent-%COMP%]{top:320px;width:70px;height:70px}.profile-avatar[_ngcontent-%COMP%]{width:70px;height:70px}.profile-section-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem;padding:.3rem 1rem;min-width:0}.profile-card[_ngcontent-%COMP%]   .post-card[_ngcontent-%COMP%]{padding:.5rem .1rem!important}}"]})}return n})()},9662:(R,P,l)=>{l.d(P,{y:()=>x});var e=l(3165),a=l(1360),f=l(6354);let x=(()=>{class C{#e="comments";#t=(0,a.WQX)(e.Qq);getComments(){return this.#t.get(this.#e).pipe((0,f.T)(s=>s))}getCommentsByPost(s,p=1){let O=new URLSearchParams({page:String(p)});return this.#t.get(`${this.#e}/${s}/post?${O.toString()}`).pipe((0,f.T)(h=>h))}getComment(s){return this.#t.get(`${this.#e}/${s}`).pipe((0,f.T)(p=>p))}addComment(s){return this.#t.post(this.#e,s).pipe((0,f.T)(p=>p))}editComment(s,p){return this.#t.put(`${this.#e}/${p}`,s).pipe((0,f.T)(O=>O))}deleteComment(s){return this.#t.delete(`${this.#e}/${s}`)}static \u0275fac=function(p){return new(p||C)};static \u0275prov=a.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()}}]);