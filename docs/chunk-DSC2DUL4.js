import{a as y}from"./chunk-JU6AQGDN.js";import{a as v,b as S}from"./chunk-QVJEC5VS.js";import{a as h}from"./chunk-AW7RF5R2.js";import{a as b,c as w}from"./chunk-3TMGCKTS.js";import{o as x}from"./chunk-GT6PACLV.js";import{Aa as n,Ka as f,Mb as M,Nb as u,S as s,Wa as C,Zb as O,_b as _,da as l,eb as i,fb as e,gb as P,ja as g,ka as m,xb as r,yb as c,zb as d}from"./chunk-W4ZOI5UP.js";var k=class p{#t=s(h);#n=s(y);#e=s(l);post=m.required();commentsResource=w({request:()=>this.post().id,loader:({request:o})=>this.#n.getCommentsByPost(o)});lastVisit=O(()=>this.commentsResource.value()?.comments.slice().sort((o,a)=>a.content.updatedAt.toString().localeCompare(o.content.updatedAt.toString()))[0]);deleted=g();constructor(){_(()=>{console.log(this.post())})}deletePost(){this.#t.deletePost(this.post().id).pipe(b(this.#e)).subscribe({next:()=>{this.deleted.emit()},error:o=>console.log(o.error.message)})}static \u0275fac=function(a){return new(a||p)};static \u0275cmp=f({type:p,selectors:[["posts-card"]],inputs:{post:[1,"post"]},outputs:{deleted:"deleted"},decls:17,vars:11,consts:[[1,"posts","mb-3"],[1,"info"],[1,"mb-0","titulo"],[1,"desc","mb-0"],[1,"seccion"],["icon","pi pi-hashtag","severity","info",3,"value","rounded"],[1,"user"],[1,"extra"],[1,"mb-0"]],template:function(a,t){a&1&&(i(0,"div",0)(1,"div",1)(2,"p",2),r(3),e(),i(4,"p",3),r(5),e(),i(6,"p",4),r(7),e(),P(8,"p-tag",5),e(),i(9,"p",6),r(10),e(),i(11,"div",7)(12,"p",8),r(13),e(),i(14,"p"),r(15),M(16,"date"),e()()()),a&2&&(n(3),c(t.post().title),n(2),d("",t.post().content.description.substr(0,40),"..."),n(2),d("Sistema: ",t.post().section.title,""),n(),C("value",t.post().tag)("rounded",!0),n(2),c(t.post().content.user.username),n(3),c(t.lastVisit()?t.lastVisit().content.user.username:t.post().content.user.username),n(2),d("",u(16,8,t.lastVisit()?t.lastVisit().content.updatedAt:t.post().content.updatedAt,"h:mm a - dd/MM/yyyy")," "))},dependencies:[x,S,v],styles:['@charset "UTF-8";.fondo-card[_ngcontent-%COMP%]{border-radius:20px;padding:1.5rem;margin-bottom:1rem;opacity:.9;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff}@media (min-width: 1500px){.principal[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}.principal[_ngcontent-%COMP%]   .home[_ngcontent-%COMP%]{grid-column:1/3}}@media (max-width: 1500px){.principal[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media (max-width: 1500px) and (min-width: 1300px){.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;text-align:left}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:relative}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#c7b6c5;text-decoration:none}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background:linear-gradient(to left,#1c1635,#ab9ce0);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .4s ease-out}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   .post-aside[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:.2rem}.titulo-section-posts[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;align-items:center}@media (max-width: 1200px){.titulo-section-posts[_ngcontent-%COMP%]   .terraformar[_ngcontent-%COMP%]{margin-top:.5rem;flex-grow:1}}.titulo-section-posts[_ngcontent-%COMP%]   .section-nombre[_ngcontent-%COMP%]{flex-grow:1;text-align:left;padding-left:1.5rem;align-self:center}.titulo-section-posts[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#0d0032cc,#000c);color:#d6a3d6;height:fit-content}.titulo-section-posts[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]::placeholder{color:#d6a3d6;opacity:.6}.header-info[_ngcontent-%COMP%]{display:flex;justify-content:center;background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff;border-radius:25px;padding-top:.7rem}.header-info[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{text-align:left;padding-left:1.5rem;flex-grow:1}.header-info[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{flex-grow:1;text-align:center}.header-info[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]{padding-right:1.5rem}@media (max-width: 1000px){.header-info[_ngcontent-%COMP%]{display:none}}a[_ngcontent-%COMP%]{text-decoration:none}  .p-paginator{background:transparent;padding:10px;border-radius:8px}.go-back[_ngcontent-%COMP%]{width:fit-content;padding:.4rem;border-radius:50px;background-color:#5fa35f}.go-back[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{align-self:center}.posts[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#8e6ee6cc,#0000);margin:.3rem;border-radius:25px;height:fit-content;font-size:small;padding:1rem;color:#b1b1b1}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{text-align:left}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-weight:700}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{text-indent:.3rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.posts[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%], .posts[_ngcontent-%COMP%]   .extra[_ngcontent-%COMP%]{text-align:right}.posts[_ngcontent-%COMP%]:hover{filter:brightness(1.75)}@media (min-width: 1000px){.posts[_ngcontent-%COMP%]{display:flex}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex-grow:1}.posts[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{flex-grow:1;text-align:center}}@media (max-width: 1000px){.user[_ngcontent-%COMP%]:before{font-weight:700;content:"Astronauta: "}.extra[_ngcontent-%COMP%]:before{font-weight:700;content:"\\daltima interacci\\f3n: "}}@media (max-width: 768px){.posts[_ngcontent-%COMP%]{display:flex;flex-direction:column}.posts[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.info){text-align:right}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:.8rem}.posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .seccion[_ngcontent-%COMP%]{order:-1}.posts[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{margin-bottom:0}}']})};export{k as a};
