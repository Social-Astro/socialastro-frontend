"use strict";(self.webpackChunksocialastro_frontend=self.webpackChunksocialastro_frontend||[]).push([[824],{7824:(y,_,a)=>{a.r(_),a.d(_,{HomeComponent:()=>v});var e=a(1360),O=a(6861),C=a(33),m=a(4395),b=a(9079),h=a(8434);const P=i=>["/home/posts",i],f=(i,p)=>p.id;function M(i,p){if(1&i&&(e.j41(0,"li",5)(1,"a",6)(2,"span",7),e.EFF(3),e.k0s(),e.j41(4,"span"),e.EFF(5),e.nI1(6,"date"),e.k0s()()()),2&i){const n=p.$implicit;e.R7$(),e.Y8G("routerLink",e.eq3(6,P,n.id)),e.R7$(2),e.JRh(n.title),e.R7$(2),e.JRh(e.i5U(6,3,n.content.updatedAt,"h:mm dd/MM/yyyy"))}}function g(i,p){if(1&i&&(e.j41(0,"li",5)(1,"a",6)(2,"span",7),e.EFF(3),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s()()()),2&i){const n=p.$implicit;e.R7$(),e.Y8G("routerLink",e.eq3(3,P,n.id)),e.R7$(2),e.JRh(n.title),e.R7$(2),e.JRh(n.numComments)}}let v=(()=>{class i{#e=(0,e.WQX)(m.v);#n=(0,e.WQX)(e.abz);posts=(0,e.vPA)([]);ordenadosFecha=(0,e.vPA)([]);ordenadosComentarios=(0,e.vPA)([]);constructor(){this.getPosts()}getPosts(){this.#e.getPosts().pipe((0,b.pQ)(this.#n)).subscribe({next:n=>{this.posts.set(n),this.ordenarPorFecha(),this.ordenarPorComentarios()},error:n=>{console.log(n.error.message)}})}ordenarPorFecha(){this.ordenadosFecha.set(this.posts().splice(0,3)),console.log("FECHA: ",this.ordenadosFecha()),console.log("posts",this.posts())}ordenarPorComentarios(){this.ordenadosComentarios.set(this.posts().slice().sort((n,t)=>t.numComments-n.numComments)),this.ordenadosComentarios.update(n=>n.splice(0,3)),console.log("COMENTARIOS",this.ordenadosComentarios())}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=e.VBU({type:i,selectors:[["home"]],decls:16,vars:0,consts:[[1,"principal","text-center",2,"margin-top","1.5rem"],[1,"home","m-4"],[1,"m-4","info-aside"],[1,"fondo-card"],[2,"font-size","medium"],[1,"underline",2,"font-size","small"],[3,"routerLink"],[1,"post-aside"]],template:function(t,o){1&t&&(e.j41(0,"div",0)(1,"div",1),e.nrm(2,"router-outlet"),e.k0s(),e.j41(3,"div",2)(4,"div",3)(5,"h3",4),e.EFF(6,"\xdaltimos planetas formados"),e.k0s(),e.j41(7,"ul"),e.Z7z(8,M,7,8,"li",5,f),e.k0s()(),e.j41(10,"div",3)(11,"h3",4),e.EFF(12,"Planetas m\xe1s visitados"),e.k0s(),e.j41(13,"ul"),e.Z7z(14,g,6,5,"li",5,f),e.k0s()()()()),2&t&&(e.R7$(8),e.Dyx(o.ordenadosFecha()),e.R7$(6),e.Dyx(o.ordenadosComentarios()))},dependencies:[O.n3,h.vh,C.Wk],styles:['.fondo-card[_ngcontent-%COMP%]{border-radius:20px;padding:1.5rem;margin-bottom:1rem;opacity:.9;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff}@media (min-width: 1500px){.principal[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}.principal[_ngcontent-%COMP%]   .home[_ngcontent-%COMP%]{grid-column:1/3}}@media (max-width: 1500px){.principal[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media (max-width: 1500px) and (min-width: 1300px){.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;text-align:left}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:relative}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#c7b6c5;text-decoration:none}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background:linear-gradient(to left,#1c1635,#ab9ce0);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .4s ease-out}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   .post-aside[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:.2rem}']})}return i})()},9079:(y,_,a)=>{a.d(_,{ZX:()=>p,ot:()=>g,pQ:()=>m});var e=a(1360),O=a(1985),C=a(6977);function m(n){n||((0,e.Af3)(m),n=(0,e.WQX)(e.abz));const t=new O.c(o=>n.onDestroy(o.next.bind(o)));return o=>o.pipe((0,C.Q)(t))}function g(n,t){const o=!t?.manualCleanup;o&&!t?.injector&&(0,e.Af3)(g);const r=o?t?.injector?.get(e.abz)??(0,e.WQX)(e.abz):null,d=function v(n=Object.is){return(t,o)=>1===t.kind&&1===o.kind&&n(t.value,o.value)}(t?.equal);let s;s=(0,e.vPA)(t?.requireSync?{kind:0}:{kind:1,value:t?.initialValue},{equal:d});const l=n.subscribe({next:c=>s.set({kind:1,value:c}),error:c=>{if(t?.rejectErrors)throw c;s.set({kind:2,error:c})}});if(t?.requireSync&&0===s().kind)throw new e.wOt(601,!1);return r?.onDestroy(l.unsubscribe.bind(l)),(0,e.EWP)(()=>{const c=s();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new e.wOt(601,!1)}},{equal:t?.equal})}function p(n){return n?.injector||(0,e.Af3)(p),(0,e.ZcF)({...n,loader:void 0,stream:t=>{let o;const r=()=>o.unsubscribe();t.abortSignal.addEventListener("abort",r);const d=(0,e.vPA)({value:void 0});let s;const l=new Promise(u=>s=u);function c(u){d.set(u),s?.(d),s=void 0}return o=n.loader(t).subscribe({next:u=>c({value:u}),error:u=>c({error:u}),complete:()=>{s&&c({error:new Error("Resource completed before producing a value")}),t.abortSignal.removeEventListener("abort",r)}}),l}})}}}]);