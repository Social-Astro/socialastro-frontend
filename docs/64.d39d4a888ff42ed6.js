"use strict";(self.webpackChunksocialastro_frontend=self.webpackChunksocialastro_frontend||[]).push([[64],{9064:(E,p,o)=>{o.r(p),o.d(p,{ExploreComponent:()=>x});var t=o(1360),m=o(4395),r=o(9079),g=o(937),u=o(935),_=o(9114),P=o(8434),f=o(33),O=o(3767);const d=e=>({"background-image":e}),l=e=>["/profile",e],c=e=>["/home/posts",e];function v(e,s){if(1&e&&(t.SS7(0),t.j41(1,"div",5),t.nrm(2,"p-tag",6),t.j41(3,"div",7),t.EFF(4),t.k0s(),t.j41(5,"div",8),t.nrm(6,"img",9),t.EFF(7),t.k0s(),t.j41(8,"div",10)(9,"a",11),t.nrm(10,"p-avatar",12),t.k0s(),t.j41(11,"a",13),t.nrm(12,"img",14),t.k0s()(),t.j41(13,"div",15),t.EFF(14,"Sistema: "),t.nrm(15,"br"),t.j41(16,"p",16),t.EFF(17),t.k0s()()()),2&e){const n=s.$implicit,i=n.content.multimedia.length>0?n.content.multimedia[0].filename:"assets/normal/normal_planet_post.png";t.R7$(),t.Y8G("ngStyle",t.eq3(8,d,"url("+i+")")),t.R7$(),t.Y8G("value",n.tag),t.R7$(2),t.JRh(n.title),t.R7$(3),t.SpI(" ",n.numComments," "),t.R7$(2),t.Y8G("routerLink",t.eq3(10,l,n.content.user.id)),t.R7$(),t.Y8G("image",n.content.user.avatar),t.R7$(),t.Y8G("routerLink",t.eq3(12,c,n.id)),t.R7$(6),t.JRh(n.section.title)}}function C(e,s){if(1&e&&(t.j41(0,"div",4),t.SS7(1),t.nrm(2,"img",17),t.j41(3,"div",18)(4,"h3"),t.EFF(5),t.k0s(),t.j41(6,"p"),t.EFF(7),t.k0s(),t.j41(8,"div",19)(9,"div",15)(10,"p",20),t.EFF(11,"Sistema: "),t.k0s(),t.j41(12,"p",16),t.EFF(13),t.k0s()(),t.j41(14,"div",21)(15,"a",11),t.nrm(16,"p-avatar",12),t.k0s(),t.j41(17,"a",22),t.nrm(18,"img",23),t.k0s()()()()()),2&e){const n=t.XpG(),i=n.postAleatorio().content.multimedia.length>0?n.postAleatorio().content.multimedia[0].filename:"assets/normal/normal_planet_post.png";t.R7$(2),t.Y8G("src",i,t.B4B)("alt",n.postAleatorio().title),t.R7$(3),t.JRh(n.postAleatorio().title),t.R7$(2),t.JRh(n.postAleatorio().content.description),t.R7$(6),t.JRh(n.postAleatorio().section.title),t.R7$(2),t.Y8G("routerLink",t.eq3(8,l,n.postAleatorio().content.user.id)),t.R7$(),t.Y8G("image",n.postAleatorio().content.user.avatar),t.R7$(),t.Y8G("routerLink",t.eq3(10,c,n.postAleatorio().id))}}function h(e,s){if(1&e&&(t.SS7(0),t.j41(1,"div",5),t.nrm(2,"p-tag",6),t.j41(3,"div",7),t.EFF(4),t.k0s(),t.j41(5,"div",8),t.nrm(6,"img",9),t.EFF(7),t.k0s(),t.j41(8,"div",24)(9,"a",11),t.nrm(10,"p-avatar",12),t.k0s(),t.j41(11,"a",25),t.nrm(12,"img",14),t.k0s()(),t.j41(13,"div",15),t.EFF(14,"Sistema: "),t.nrm(15,"br"),t.j41(16,"p",16),t.EFF(17),t.k0s()()()),2&e){const n=s.$implicit,i=n.content.multimedia.length>0?n.content.multimedia[0].filename:"assets/normal/normal_planet_post.png";t.R7$(),t.Y8G("ngStyle",t.eq3(8,d,"url("+i+")")),t.R7$(),t.Y8G("value",n.tag),t.R7$(2),t.JRh(n.title),t.R7$(3),t.SpI(" ",n.numComments," "),t.R7$(2),t.Y8G("routerLink",t.eq3(10,l,n.content.user.id)),t.R7$(),t.Y8G("image",n.content.user.avatar),t.R7$(),t.Y8G("routerLink",t.eq3(12,c,n.id)),t.R7$(6),t.JRh(n.section.title)}}function M(e,s){if(1&e&&(t.j41(0,"div",1)(1,"h2"),t.EFF(2),t.k0s(),t.j41(3,"p-carousel",2),t.DNE(4,h,18,14,"ng-template",null,0,t.C5r),t.k0s()()),2&e){const n=t.XpG();t.R7$(2),t.SpI("Otros planetas basados en ",n.postsUsuario()[0].tag,""),t.R7$(),t.Y8G("value",n.ordenadosTag1())("numVisible",5)("numScroll",1)("responsiveOptions",n.responsiveOptions)}}let x=(()=>{class e{#t=(0,t.WQX)(m.v);#n=(0,t.WQX)(t.abz);#e=(0,t.WQX)(O.u);actualUser=(0,t.vPA)(void 0);posts=(0,t.vPA)([]);postsUsuario=(0,t.vPA)([]);ordenadosTag1=(0,t.vPA)([]);ordenadosTag2=(0,t.vPA)([]);numAleatorio=0;postAleatorio=(0,t.vPA)(null);responsiveOptions;constructor(){this.getPosts(),(0,t.QZP)(()=>{this.actualUser.set(this.#e.currentUser.value()),console.log("User",this.actualUser()),this.getPostsUsuario()}),this.responsiveOptions=[{breakpoint:"1400px",numVisible:3,numScroll:1},{breakpoint:"1199px",numVisible:3,numScroll:1},{breakpoint:"767px",numVisible:2,numScroll:1},{breakpoint:"575px",numVisible:1,numScroll:1}]}getPosts(){this.#t.getPosts().pipe((0,r.pQ)(this.#n)).subscribe({next:n=>{this.posts.set(n),this.numAleatorio=Math.ceil(Math.random()*this.posts().length),this.postAleatorio.set(n[this.numAleatorio])},error:n=>{console.log(n.error.message)}})}getPostsUsuario(){this.actualUser()&&this.#t.getPostsByUser(this.actualUser().id).pipe((0,r.pQ)(this.#n)).subscribe({next:n=>{this.postsUsuario.set(n.posts),console.log("POSTS USUARIO",this.postsUsuario()),this.getPostsByTags()},error:n=>{console.log(n.error.message)}})}getPostsByTags(){this.#t.getPostsByTag(this.postsUsuario()[0].tag).pipe((0,r.pQ)(this.#n)).subscribe({next:n=>{this.ordenadosTag1.set(n),console.log("TAGS: ",this.ordenadosTag1())},error:n=>{console.log(n.error.message)}}),console.log("TAGS: ",this.ordenadosTag1())}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=t.VBU({type:e,selectors:[["explore"]],decls:11,vars:6,consts:[["item",""],[1,"fondo-card","mt-3"],[3,"value","numVisible","numScroll","responsiveOptions"],[1,"fondo-card"],[1,"aleatorio"],[1,"border","border-surface-200","dark:border-surface-700","rounded","m-2","p-4","post-card",3,"ngStyle"],["severity","info",3,"value"],[1,"mt-4","font-medium","post-text"],[1,"mb-4","font-medium","post-text"],["src","assets/normal/normal_planet_comment.png","alt","","width","30px"],[1,"d-flex","justify-content-between","mb-o"],[1,"align-self-center",3,"routerLink"],["size","normal","shape","circle",1,"mr-2",3,"image"],[1,"btn","m-2","enlace",3,"routerLink"],["src","assets/normal/normal_planet_system3.png","alt","Visitar","title","Visitar","width","40px"],[1,"font-small"],[1,"enlace"],[3,"src","alt"],[1,"aleatorio-texto"],[1,"d-flex","justify-content-between"],[1,"mb-0"],[1,"d-flex","redirec"],[1,"btn","enlace",3,"routerLink"],["src","assets/normal/normal_planet_system3.png","alt","Visitar","title","Visitar","width","40px",1,"enlace-post"],[1,"d-flex","justify-content-between","mb-0"],[1,"btn","m-2","boton-post",3,"routerLink"]],template:function(i,a){1&i&&(t.j41(0,"div",1)(1,"h2"),t.EFF(2,"\xdaltimos planetas terraformados"),t.k0s(),t.j41(3,"p-carousel",2),t.DNE(4,v,18,14,"ng-template",null,0,t.C5r),t.k0s()(),t.j41(6,"div",3)(7,"h2"),t.EFF(8,"Aparici\xf3n aleatoria en el radar"),t.k0s(),t.DNE(9,C,19,12,"div",4),t.k0s(),t.DNE(10,M,6,5,"div",1)),2&i&&(t.R7$(3),t.Y8G("value",a.posts())("numVisible",5)("numScroll",1)("responsiveOptions",a.responsiveOptions),t.R7$(6),t.vxM(a.postAleatorio()?9:-1),t.R7$(),t.vxM(a.postsUsuario()[0]&&a.ordenadosTag1()?10:-1))},dependencies:[g.FN,P.B3,u.vw,f.Wk,_.eu],styles:['.fondo-card[_ngcontent-%COMP%]{border-radius:20px;padding:1.5rem;margin-bottom:1rem;opacity:.9;box-shadow:0 0 40px #00000080;border:2px solid rgba(13,0,50,.5);background:linear-gradient(to bottom,#0d0032cc,#000c);color:#fff}@media (min-width: 1500px){.principal[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}.principal[_ngcontent-%COMP%]   .home[_ngcontent-%COMP%]{grid-column:1/3}}@media (max-width: 1500px){.principal[_ngcontent-%COMP%]{display:flex;flex-direction:column}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}@media (max-width: 1500px) and (min-width: 1300px){.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr}}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;text-align:left}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{position:relative}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:space-between;color:#c7b6c5;text-decoration:none}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background:linear-gradient(to left,#1c1635,#ab9ce0);bottom:0;left:0;transform:scaleX(0);transform-origin:left;transition:transform .4s ease-out}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]   .post-aside[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.principal[_ngcontent-%COMP%]   .info-aside[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding-left:.2rem}.aleatorio[_ngcontent-%COMP%]{display:flex}.aleatorio[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:not(.enlace-post){width:300px;border-radius:15px}.aleatorio[_ngcontent-%COMP%]   .aleatorio-texto[_ngcontent-%COMP%]{margin-left:1.5rem;flex-grow:1}.aleatorio[_ngcontent-%COMP%]   .redirec[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:.5rem}.post-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#c7c7c7cb;background-blend-mode:lighten;background-size:cover;background-position:center;border-radius:8px;width:180px}.post-card[_ngcontent-%COMP%]   .post-text[_ngcontent-%COMP%]{color:#7d3c7d;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.post-card[_ngcontent-%COMP%]   .boton-post[_ngcontent-%COMP%]{align-self:end}.enlace[_ngcontent-%COMP%]{text-decoration:none;color:#7d3c7d;font-weight:700}']})}return e})()}}]);